{"remainingRequest":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js!/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/home/tiendzung/workspace/video5pm/video5pm-ui/src/core/mixins/route.js","dependencies":[{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/src/core/mixins/route.js","mtime":1603898990376},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1601450297498},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js","mtime":1597736171393},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1597736267502}],"contextDependencies":[],"result":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport { cloneDeep, isObjectDiff } from '@core/utils';\nimport { NOT_STAFF_GET_LIMIT } from '@core/constants';\nexport default {\n  data: function data() {\n    return {\n      filter: {}\n    };\n  },\n  methods: {\n    toBack: function toBack() {\n      return this.$router.go(-1);\n    },\n    getRouteQuery: function getRouteQuery() {\n      var _this = this;\n\n      var query = {};\n      Object.keys(this.filter).forEach(function (key) {\n        if (typeof _this.$route.query[key] !== 'undefined') {\n          var value = _this.$route.query[key];\n\n          switch (_typeof(_this.filter[key])) {\n            case 'number':\n              value = Number(value);\n              break;\n\n            case 'boolean':\n              value = !!value;\n              break;\n          }\n\n          query[key] = value;\n        } else {\n          query[key] = _this.filter[key];\n        }\n      });\n      var max = NOT_STAFF_GET_LIMIT;\n      query.limit = query.limit <= max ? query.limit : max;\n      return Object.assign({}, this.$route.query, query);\n    },\n    handleUpdateRouteQuery: function handleUpdateRouteQuery() {\n      var append = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var params = cloneDeep(this.$route.query);\n      params = Object.assign(params, this.filter, append);\n\n      if (!params.page) {\n        params.page = 1;\n      }\n\n      var query = {};\n\n      for (var key in params) {\n        if (params.hasOwnProperty(key) && params[key]) {\n          query[key] = params[key];\n        }\n      }\n\n      this.$router.push({\n        query: query,\n        path: this.$route.path\n      }).catch(function () {});\n    }\n  },\n  watch: {\n    $route: function $route() {\n      var filters = this.getRouteQuery();\n\n      if (isObjectDiff(filters, this.filter)) {\n        this.filter = filters;\n      }\n    }\n  }\n};",{"version":3,"sources":["/home/tiendzung/workspace/video5pm/video5pm-ui/src/core/mixins/route.js"],"names":["cloneDeep","isObjectDiff","NOT_STAFF_GET_LIMIT","data","filter","methods","toBack","$router","go","getRouteQuery","query","Object","keys","forEach","key","$route","value","Number","max","limit","assign","handleUpdateRouteQuery","append","params","page","hasOwnProperty","push","path","catch","watch","filters"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,YAApB,QAAwC,aAAxC;AACA,SAASC,mBAAT,QAAoC,iBAApC;AAEA,eAAe;AACbC,EAAAA,IADa,kBACN;AACL,WAAO;AACLC,MAAAA,MAAM,EAAE;AADH,KAAP;AAGD,GALY;AAMbC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MADO,oBACE;AACP,aAAO,KAAKC,OAAL,CAAaC,EAAb,CAAgB,CAAC,CAAjB,CAAP;AACD,KAHM;AAIPC,IAAAA,aAJO,2BAIS;AAAA;;AACd,UAAMC,KAAK,GAAG,EAAd;AAEAC,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKR,MAAjB,EAAyBS,OAAzB,CAAiC,UAACC,GAAD,EAAS;AACxC,YAAI,OAAO,KAAI,CAACC,MAAL,CAAYL,KAAZ,CAAkBI,GAAlB,CAAP,KAAkC,WAAtC,EAAmD;AACjD,cAAIE,KAAK,GAAG,KAAI,CAACD,MAAL,CAAYL,KAAZ,CAAkBI,GAAlB,CAAZ;;AACA,0BAAe,KAAI,CAACV,MAAL,CAAYU,GAAZ,CAAf;AACE,iBAAK,QAAL;AACEE,cAAAA,KAAK,GAAGC,MAAM,CAACD,KAAD,CAAd;AACA;;AACF,iBAAK,SAAL;AACEA,cAAAA,KAAK,GAAG,CAAC,CAACA,KAAV;AACA;AANJ;;AASAN,UAAAA,KAAK,CAACI,GAAD,CAAL,GAAaE,KAAb;AACD,SAZD,MAYO;AACLN,UAAAA,KAAK,CAACI,GAAD,CAAL,GAAa,KAAI,CAACV,MAAL,CAAYU,GAAZ,CAAb;AACD;AACF,OAhBD;AAkBA,UAAMI,GAAG,GAAGhB,mBAAZ;AACAQ,MAAAA,KAAK,CAACS,KAAN,GAAcT,KAAK,CAACS,KAAN,IAAeD,GAAf,GAAqBR,KAAK,CAACS,KAA3B,GAAmCD,GAAjD;AAEA,aAAOP,MAAM,CAACS,MAAP,CAAc,EAAd,EAAkB,KAAKL,MAAL,CAAYL,KAA9B,EAAqCA,KAArC,CAAP;AACD,KA7BM;AA8BPW,IAAAA,sBA9BO,oCA8B6B;AAAA,UAAbC,MAAa,uEAAJ,EAAI;AAClC,UAAIC,MAAM,GAAGvB,SAAS,CAAC,KAAKe,MAAL,CAAYL,KAAb,CAAtB;AACAa,MAAAA,MAAM,GAAGZ,MAAM,CAACS,MAAP,CAAcG,MAAd,EAAsB,KAAKnB,MAA3B,EAAmCkB,MAAnC,CAAT;;AAEA,UAAI,CAACC,MAAM,CAACC,IAAZ,EAAkB;AAChBD,QAAAA,MAAM,CAACC,IAAP,GAAc,CAAd;AACD;;AAED,UAAId,KAAK,GAAG,EAAZ;;AACA,WAAK,IAAMI,GAAX,IAAkBS,MAAlB,EAA0B;AACxB,YAAIA,MAAM,CAACE,cAAP,CAAsBX,GAAtB,KAA8BS,MAAM,CAACT,GAAD,CAAxC,EAA+C;AAC7CJ,UAAAA,KAAK,CAACI,GAAD,CAAL,GAAaS,MAAM,CAACT,GAAD,CAAnB;AACD;AACF;;AAED,WAAKP,OAAL,CACGmB,IADH,CACQ;AACJhB,QAAAA,KAAK,EAALA,KADI;AAEJiB,QAAAA,IAAI,EAAE,KAAKZ,MAAL,CAAYY;AAFd,OADR,EAKGC,KALH,CAKS,YAAM,CAAE,CALjB;AAMD;AAnDM,GANI;AA2DbC,EAAAA,KAAK,EAAE;AACLd,IAAAA,MAAM,EAAE,kBAAW;AACjB,UAAMe,OAAO,GAAG,KAAKrB,aAAL,EAAhB;;AAEA,UAAIR,YAAY,CAAC6B,OAAD,EAAU,KAAK1B,MAAf,CAAhB,EAAwC;AACtC,aAAKA,MAAL,GAAc0B,OAAd;AACD;AACF;AAPI;AA3DM,CAAf","sourcesContent":["import { cloneDeep, isObjectDiff } from '@core/utils'\nimport { NOT_STAFF_GET_LIMIT } from '@core/constants'\n\nexport default {\n  data() {\n    return {\n      filter: {},\n    }\n  },\n  methods: {\n    toBack() {\n      return this.$router.go(-1)\n    },\n    getRouteQuery() {\n      const query = {}\n\n      Object.keys(this.filter).forEach((key) => {\n        if (typeof this.$route.query[key] !== 'undefined') {\n          let value = this.$route.query[key]\n          switch (typeof this.filter[key]) {\n            case 'number':\n              value = Number(value)\n              break\n            case 'boolean':\n              value = !!value\n              break\n          }\n\n          query[key] = value\n        } else {\n          query[key] = this.filter[key]\n        }\n      })\n\n      const max = NOT_STAFF_GET_LIMIT\n      query.limit = query.limit <= max ? query.limit : max\n\n      return Object.assign({}, this.$route.query, query)\n    },\n    handleUpdateRouteQuery(append = {}) {\n      let params = cloneDeep(this.$route.query)\n      params = Object.assign(params, this.filter, append)\n\n      if (!params.page) {\n        params.page = 1\n      }\n\n      let query = {}\n      for (const key in params) {\n        if (params.hasOwnProperty(key) && params[key]) {\n          query[key] = params[key]\n        }\n      }\n\n      this.$router\n        .push({\n          query,\n          path: this.$route.path,\n        })\n        .catch(() => {})\n    },\n  },\n  watch: {\n    $route: function() {\n      const filters = this.getRouteQuery()\n\n      if (isObjectDiff(filters, this.filter)) {\n        this.filter = filters\n      }\n    },\n  },\n}\n"]}]}