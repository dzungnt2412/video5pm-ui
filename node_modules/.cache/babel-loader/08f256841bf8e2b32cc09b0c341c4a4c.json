{"remainingRequest":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/thread-loader/dist/cjs.js!/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js!/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tiendzung/workspace/video5pm/video5pm-ui/src/components/shared/Thumbnail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/src/components/shared/Thumbnail.vue","mtime":1605110572637},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/thread-loader/dist/cjs.js","mtime":1604479001701},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js","mtime":1604479000077},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js","mtime":1604479001773}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport api from '@/packages/design/api';\nexport default {\n  name: 'Thumbnail',\n  props: {\n    src: {\n      type: String,\n      default: ''\n    }\n  },\n  computed: {\n    thumbnail: function thumbnail() {\n      if (this.src) {\n        return this.getThumbnailUrl(this.src);\n      }\n\n      return this.src;\n    }\n  },\n  data: function data() {\n    return {\n      className: '',\n      image: '',\n      callAPi: false\n    };\n  },\n  methods: {\n    handleImageError: function handleImageError() {\n      var _this = this;\n\n      if (this.image === this.src) {\n        return;\n      }\n\n      var thumbnailDefault = \"\".concat(process.env.VUE_APP_ASSETS, \"/thumbnail.png\");\n\n      if (this.callAPi) {\n        this.image = thumbnailDefault;\n        return;\n      }\n\n      this.image = \"\".concat(process.env.VUE_APP_ASSETS, \"/image-processing.gif\");\n      this.className = 'miss-thumbnail';\n\n      if (this.src.startsWith('blob')) {\n        return;\n      }\n\n      api.missingThumbnail(this.src).then(function (response) {\n        _this.className = '';\n        _this.callAPi = true;\n\n        if (response && response.success) {\n          if (response.url.length) {\n            _this.image = response.url;\n          }\n\n          _this.image = thumbnailDefault;\n        }\n\n        _this.showNotify();\n      }).catch(this.showNotify);\n    },\n    showNotify: function showNotify() {\n      console.log('Miss thumbnail');\n    },\n    getThumbnailUrl: function getThumbnailUrl(src) {\n      return \"\".concat(process.env.VUE_APP_BASE_IMAGE_URL, \"/\").concat(src);\n    }\n  },\n  watch: {\n    src: {\n      handler: function handler(val) {\n        if (val) {\n          this.image = this.thumbnail;\n        }\n      },\n      immediate: true\n    }\n  }\n};",null]}