{"remainingRequest":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/thread-loader/dist/cjs.js!/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js!/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js??ref--13-0!/home/tiendzung/workspace/video5pm/video5pm-ui/src/core/helpers/storage.js","dependencies":[{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/src/core/helpers/storage.js","mtime":1604479001985},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/thread-loader/dist/cjs.js","mtime":1604479001701},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js","mtime":1604479000077},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/@vue/cli-plugin-eslint/node_modules/eslint-loader/index.js","mtime":1604478999957}],"contextDependencies":[],"result":["import LocalStorage from '@core/helpers/localstorage';\nimport Cookie from '@core/helpers/cookie';\n\nvar getKey = function getKey(key) {\n  return \"lionnix_$_$_\".concat(key);\n};\n\nvar isSupportStorage = typeof window !== 'undefined' && typeof window.localStorage !== 'undefined';\nvar store = isSupportStorage ? LocalStorage : Cookie;\nvar Storage = {\n  /**\n   * Set storage value\n   * @param key\n   * @param value\n   * @param expireSeconds\n   */\n  set: function set(key, value) {\n    var expireSeconds = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    value = JSON.stringify(value);\n\n    if (expireSeconds) {\n      store.set(getKey(key), value, new Date().getTime() + expireSeconds * 1000);\n    } else {\n      store.set(getKey(key), value);\n    }\n  },\n\n  /**\n   * Get storage value\n   * @param key\n   * @param defaultVal\n   * @return {null}\n   */\n  get: function get(key) {\n    var defaultVal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var value = store.get(getKey(key));\n\n    try {\n      return JSON.parse(value);\n    } catch (e) {\n      return defaultVal;\n    }\n  },\n\n  /**\n   * Get keys by prefix\n   * @param prefix\n   */\n  getKeysByPrefix: function getKeysByPrefix(prefix) {\n    var keys = [];\n    store.each(function (value, key) {\n      if (key && key.indexOf(prefix) === 0) {\n        keys.push(key);\n      }\n    });\n    return keys;\n  },\n\n  /**\n   * Remove by key\n   * @param key\n   */\n  remove: function remove(key) {\n    store.remove(getKey(key));\n  },\n\n  /**\n   * Get expire duration of days\n   * @param days\n   * @return {number} the expire seconds of days\n   */\n  getDayDuration: function getDayDuration(days) {\n    var oneDaySeconds = 60 * 60 * 24;\n    return days * oneDaySeconds;\n  },\n\n  /**\n   * Get expire duration of minutes\n   * @param minute\n   * @return {number} the expire seconds of minutes\n   */\n  getMinuteDuration: function getMinuteDuration(minute) {\n    return minute * 60;\n  },\n\n  /**\n   * Remove by prefix\n   * @param {string} prefix\n   */\n  removeByPrefix: function removeByPrefix(prefix) {\n    var _this = this;\n\n    var keys = this.getKeysByPrefix(prefix);\n\n    if (Array.isArray(keys) && keys.length) {\n      keys.forEach(function (key) {\n        return _this.remove(key);\n      });\n    }\n  },\n\n  /**\n   * Has storage by key\n   * @param key\n   * @return {boolean}\n   */\n  has: function has(key) {\n    if (typeof store.has === 'undefined') {\n      return typeof this.get(getKey(key)) !== 'undefined';\n    }\n\n    return store.get(getKey(key));\n  },\n\n  /**\n   * Clear all\n   */\n  clearAll: function clearAll() {\n    store.clearAll();\n  }\n};\nexport default Storage;",null]}