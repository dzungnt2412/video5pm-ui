{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"sign-in\"],{\"18ee\":function(e,t,r){\"use strict\";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"page vertical-align \"},[r(\"div\",{staticClass:\"vertical-align-middle\"},[e._m(0),r(\"div\",[r(\"form\",{on:{submit:function(t){return t.preventDefault(),e.onSignIn(t)}}},[r(\"div\",{staticClass:\"mb-16\"},[r(\"label\",{staticClass:\" font-weight-bold\"},[e._v(\"Email or username\")]),r(\"p-input\",{attrs:{placeholder:\"you@example.com\",required:e.requiredEmail},on:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.onSignIn(t)}},model:{value:e.email,callback:function(t){e.email=t},expression:\"email\"}})],1),r(\"div\",{staticClass:\"mb-16\"},[r(\"div\",{staticClass:\"label\"},[r(\"label\",{staticClass:\" font-weight-bold\"},[e._v(\"Password\")]),r(\"span\",{staticClass:\"font-size-12 redirect\",on:{click:function(t){return e.redirect()}}},[e._v(\"\\n              Forgot your password?\\n            \")])]),r(\"p-input\",{attrs:{placeholder:\"Password\",type:\"password\",hiddenPass:\"on\",required:e.requiredPassword},on:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.onSignIn(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:\"password\"}})],1),e.count>=1?r(\"div\",{staticClass:\"captcha mt-40\"},[r(\"vue-recaptcha\",{ref:\"recapcha\",attrs:{sitekey:\"\"+e.recapchaKey,loadRecaptchaScript:!0},on:{verify:e.onVerify}}),0==e.check?r(\"span\",{staticClass:\"invalid-error\"},[e._v(\"\\n            Please check the captcha\\n          \")]):e._e()],1):e._e(),r(\"p-button\",{staticClass:\"mt-40 btn btn-special btn-primary\",attrs:{loading:e.isLoading},on:{click:e.onSignIn}},[e._v(\"\\n          Sign in\\n        \")])],1)]),r(\"p\",{staticClass:\"text-center \"},[e._v(\"\\n      New to Lionnix?\\n      \"),r(\"router-link\",{staticClass:\" creatAcount\",attrs:{to:{name:\"sign-up\"}}},[e._v(\"Create an Account\")])],1)])])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"mb-40\"},[r(\"h2\",{staticClass:\"header-2\"},[e._v(\"\\n        Sign in to Lionnix\\n      \")]),r(\"span\",{staticClass:\"brand-text-little\"},[e._v(\"Best quality. Lowest base cost. The most optimal system.\")])])}],s=r(\"a34a\"),a=r.n(s),c=r(\"2f62\"),o=r(\"e096\"),u=r(\"a7f7\"),l=r(\"8ad0\");function p(e,t,r,n,i,s,a){try{var c=e[s](a),o=c.value}catch(u){return void r(u)}c.done?t(o):Promise.resolve(o).then(n,i)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){p(s,n,i,a,c,\"next\",e)}function c(e){p(s,n,i,a,c,\"throw\",e)}a(void 0)}))}}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g={components:{VueRecaptcha:o[\"a\"]},name:\"SignIn\",data:function(){return{email:\"\",password:\"\",isLoading:!1,result:{success:!1,message:\"\"},form:{checkCaptcha:!1},count:0,status:!1,requiredPassword:!1,requiredEmail:!1,check:!0}},computed:f(f({},Object(c[\"d\"])(\"auth\",{currentUser:function(e){return e.user}})),{},{recapchaKey:function(){return\"\".concat(Object({VUE_APP_BASE_API_ENDPOINT:\"https://api-stag.lionnix.com/v1\",VUE_APP_DOMAIN:\"https://seller-stag.lionnix.com\",VUE_APP_WEBSOCKET_URL:\"wss://ws.lionnix.com/ws\",VUE_APP_BASE_IMAGE_URL:\"https://img-stag.lionnix.com/thumbnails\",VUE_APP_ASSETS:\"https://static.lionnix.com/file-templates\",NODE_ENV:\"production\",BASE_URL:\"/\"}).VUE_APP_RECAPCHA_KEY)}}),methods:f(f(f({},Object(c[\"b\"])(\"auth\",[\"signIn\"])),Object(c[\"c\"])(\"shared\",[u[\"SHOW_NOTIFICATION_MESSAGE\"]])),{},{redirect:function(){return this.$router.push(\"/forgot\")},checkRequired:function(){var e=!0;return\"\"==this.password?(this.requiredPassword=!0,e=!1):this.requiredPassword=!1,\"\"==this.email?(this.requiredEmail=!0,e=!1):this.requiredEmail=!1,e},pushNoti:function(){this.showNotificationMessage(\"This is message\")},onSignIn:function(){var e=h(a.a.mark((function e(){var t,r=this;return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkRequired()){e.next=2;break}return e.abrupt(\"return\");case 2:if(t={password:this.password},this.email.includes(\"@\")?t.email=this.email.trim():t.username=this.email.trim(),t.email||t.username){e.next=7;break}return this.$toast.open({type:\"error\",message:\"Username/Email required\"}),e.abrupt(\"return\");case 7:if(t.password){e.next=10;break}return this.$toast.open({type:\"error\",message:\"Password required\"}),e.abrupt(\"return\");case 10:if(!(this.count>=1)||this.form.checkCaptcha){e.next=13;break}return this.check=!1,e.abrupt(\"return\");case 13:return this.isLoading=!0,e.next=16,this.signIn(t);case 16:if(this.result=e.sent,setTimeout((function(){r.isLoading=!1}),2e3),this.result.number_incorrect>=3&&(this.count+=1),!this.result.success){e.next=23;break}setTimeout((function(){r.$router.push(\"/\")}),2e3),e.next=31;break;case 23:if(!this.result.userInActive){e.next=29;break}return l[\"a\"].set(\"userEmail\",this.currentUser.email),console.log(this.currentUser),setTimeout((function(){r.$router.push(\"/verify-email\")}),2e3),this.$toast.open({type:\"error\",message:this.result.message}),e.abrupt(\"return\");case 29:this.$refs.recapcha&&(this.$refs.recapcha.reset(),this.form.checkCaptcha=!1),this.$toast.open({type:\"error\",message:this.result.message});case 31:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onVerify:function(e){e&&(this.form.checkCaptcha=!0),this.check=!0}})},w=g,y=r(\"2877\"),v=Object(y[\"a\"])(w,n,i,!1,null,null,null);t[\"default\"]=v.exports},e096:function(e,t,r){\"use strict\";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}var i=function(){var e=!1,t=[],r=function(r){if(!e){e=!0;for(var n=0,i=t.length;n<i;n++)t[n](r)}},n=function(r){e?r():t.push(r)},i={resolved:function(){return e},resolve:r,promise:{then:n}};return i},s=Object.prototype.hasOwnProperty;function a(){var e=i();return{notify:function(){e.resolve()},wait:function(){return e.promise},render:function(e,t,r){this.wait().then((function(){r(window.grecaptcha.render(e,t))}))},reset:function(e){\"undefined\"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){\"undefined\"!==typeof e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){s.call(window,\"grecaptcha\")&&s.call(window.grecaptcha,\"render\")&&this.notify()},assertLoaded:function(){if(!e.resolved())throw new Error(\"ReCAPTCHA has not been loaded\")}}}var c=a();\"undefined\"!==typeof window&&(window.vueRecaptchaApiLoaded=c.notify);var o={name:\"VueRecaptcha\",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:\"__RECAPTCHA_SCRIPT\"},recaptchaHost:{type:String,default:\"www.google.com\"},language:{type:String,default:\"\"}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var e=document.createElement(\"script\");e.id=this.recaptchaScriptId,e.src=\"https://\"+this.recaptchaHost+\"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl=\"+this.language,e.async=!0,e.defer=!0,document.head.appendChild(e)}},mounted:function(){var e=this;c.checkRecaptchaLoad();var t=n({},this.$props,{callback:this.emitVerify,\"expired-callback\":this.emitExpired,\"error-callback\":this.emitError}),r=this.$slots[\"default\"]?this.$el.children[0]:this.$el;c.render(r,t,(function(t){e.$widgetId=t,e.$emit(\"render\",t)}))},methods:{reset:function(){c.reset(this.$widgetId)},execute:function(){c.execute(this.$widgetId)},emitVerify:function(e){this.$emit(\"verify\",e)},emitExpired:function(){this.$emit(\"expired\")},emitError:function(){this.$emit(\"error\")}},render:function(e){return e(\"div\",{},this.$slots[\"default\"])}};t[\"a\"]=o}}]);","extractedComments":[]}