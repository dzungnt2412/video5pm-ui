{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"shop-edit\"],{\"1b16\":function(e,t,a){\"use strict\";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"page\"},[a(\"div\",{staticClass:\"page-header\"},[a(\"p-button\",{staticClass:\"btn-pure pl-0 m-b-10\",attrs:{icon:\"chevron-left\"}},[a(\"router-link\",{attrs:{to:{name:\"shop-list\"}}},[e._v(\"Shop\")])],1),a(\"h1\",{staticClass:\"page-title\"},[e._v(\"Cập nhật\")])],1),a(\"div\",{staticClass:\"page-content\"},[a(\"div\",{staticClass:\"row annotated-section d-flex justify-content-between my-20\"},[a(\"div\",{staticClass:\"col-12 col-sm-3\"}),a(\"div\",{staticClass:\"col-12 col-sm-8\"},[a(\"div\",{staticClass:\"panel\"},[a(\"div\",{staticClass:\"panel-body container-fluid\"},[a(\"div\",{staticClass:\"form-group\"},[a(\"label\",{attrs:{for:\"name\"}},[e._v(\"Tên shop\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.shop.name,expression:\"shop.name\"},{name:\"validate\",rawName:\"v-validate\",value:\"required\",expression:\"'required'\"}],staticClass:\"form-control\",class:[{\"is-valid\":!e.errors.has(\"name\")},{\"is-invalid\":e.errors.has(\"name\")}],attrs:{id:\"name\",placeholder:\"Tên shop\",name:\"name\",readonly:!0},domProps:{value:e.shop.name},on:{input:function(t){t.target.composing||e.$set(e.shop,\"name\",t.target.value)}}}),e.errors.has(\"name\")?a(\"div\",{staticClass:\"invalid-feedback\"},[e._v(\"\\n                \"+e._s(e.errors.first(\"name\"))+\"\\n              \")]):e._e()]),a(\"div\",{staticClass:\"form-group\"},[a(\"label\",{attrs:{for:\"domain\"}},[e._v(\"Domain\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.shop.domain,expression:\"shop.domain\"},{name:\"validate\",rawName:\"v-validate\",value:\"required|url\",expression:\"'required|url'\"}],staticClass:\"form-control\",class:[{\"is-valid\":!e.errors.has(\"domain\")},{\"is-invalid\":e.errors.has(\"domain\")}],attrs:{id:\"domain\",placeholder:\"Domain\",name:\"domain\"},domProps:{value:e.shop.domain},on:{input:function(t){t.target.composing||e.$set(e.shop,\"domain\",t.target.value)}}}),e.errors.has(\"domain\")?a(\"div\",{staticClass:\"invalid-feedback\"},[e._v(\"\\n                \"+e._s(e.errors.first(\"domain\"))+\"\\n              \")]):e._e()]),a(\"div\",{staticClass:\"form-group\"},[a(\"label\",{attrs:{for:\"api-callback\"}},[e._v(\"Callback url\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.shop.api_callback,expression:\"shop.api_callback\"},{name:\"validate\",rawName:\"v-validate\",value:\"url\",expression:\"'url'\"}],staticClass:\"form-control\",class:[{\"is-valid\":!e.errors.has(\"api_callback\")},{\"is-invalid\":e.errors.has(\"api_callback\")}],attrs:{id:\"api-callback\",placeholder:\"Callback url\",name:\"api_callback\",\"data-vv-as\":\"callback url\"},domProps:{value:e.shop.api_callback},on:{input:function(t){t.target.composing||e.$set(e.shop,\"api_callback\",t.target.value)}}}),e.errors.has(\"api_callback\")?a(\"div\",{staticClass:\"invalid-feedback\"},[e._v(\"\\n                \"+e._s(e.errors.first(\"api_callback\"))+\"\\n              \")]):e._e()]),a(\"div\",{staticClass:\"form-group\"},[a(\"label\",{attrs:{for:\"api-key\"}},[e._v(\"API key\")]),a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.shop.api_key,expression:\"shop.api_key\"}],staticClass:\"form-control\",attrs:{id:\"api-key\",placeholder:\"API Key\",readonly:!0},domProps:{value:e.shop.api_key},on:{input:function(t){t.target.composing||e.$set(e.shop,\"api_key\",t.target.value)}}})]),a(\"p-button\",{attrs:{disabled:e.isUpdating,loading:e.isUpdating},on:{click:e.handleUpdateShop}},[e._v(\"\\n              Cập nhật\\n            \")])],1)])])])])])},r=[],n=a(\"a34a\"),i=a.n(n),o=a(\"2f62\"),c=a(\"45ba\"),l=a(\"b60e\");function p(e,t,a,s,r,n,i){try{var o=e[n](i),c=o.value}catch(l){return void a(l)}o.done?t(c):Promise.resolve(c).then(s,r)}function u(e){return function(){var t=this,a=arguments;return new Promise((function(s,r){var n=e.apply(t,a);function i(e){p(n,s,r,i,o,\"next\",e)}function o(e){p(n,s,r,i,o,\"throw\",e)}i(void 0)}))}}function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m={name:\"ShopEdit\",computed:h(h({},Object(o[\"d\"])(\"shop\",{current:function(e){return e.shopUpdate}})),{},{shopId:function(){return parseInt(this.$route.params.id)}}),data:function(){return{isUpdating:!1,isFetching:!1,resultFetch:{},shop:{}}},mounted:function(){this.handleFetchShop()},methods:h(h({},Object(o[\"b\"])(\"shop\",[l[\"FETCH_SHOP\"],l[\"UPDATE_SHOP\"]])),{},{handleFetchShop:function(){var e=u(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isFetching=!0,e.next=3,this.fetchShop(this.shopId);case 3:this.resultFetch=e.sent,this.resultFetch.success&&this.$set(this,\"shop\",Object(c[\"d\"])(this.current)),this.isFetching=!1;case 6:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleUpdateShop:function(){var e=u(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$validator.validateAll();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt(\"return\");case 5:return this.isUpdating=!0,e.next=8,this.updateShop(this.shop);case 8:a=e.sent,a.success?(this.$set(this,\"shop\",Object(c[\"d\"])(this.current)),this.$toast.open({type:\"success\",message:\"Cập nhật thành công\"})):this.$toast.open({type:\"error\",message:a.message}),this.isUpdating=!1;case 11:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()})},f=m,b=a(\"2877\"),g=Object(b[\"a\"])(f,s,r,!1,null,null,null);t[\"default\"]=g.exports}}]);","extractedComments":[]}