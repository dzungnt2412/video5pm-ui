{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"verify-email\"],{\"3f86\":function(e,t,n){\"use strict\";var r=n(\"45ba\"),i=n(\"54d7\");function a(e){return a=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},a(e)}t[\"a\"]={data:function(){return{filter:{}}},methods:{toBack:function(){return this.$router.go(-1)},getRouteQuery:function(){var e=this,t={};Object.keys(this.filter).forEach((function(n){if(\"undefined\"!==typeof e.$route.query[n]){var r=e.$route.query[n];switch(a(e.filter[n])){case\"number\":r=Number(r);break;case\"boolean\":r=!!r;break}t[n]=r}else t[n]=e.filter[n]}));var n=i[\"d\"];return t.limit=t.limit<=n?t.limit:n,Object.assign({},this.$route.query,t)},handleUpdateRouteQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r[\"d\"])(this.$route.query);t=Object.assign(t,this.filter,e),t.page||(t.page=1);var n={};for(var i in t)t.hasOwnProperty(i)&&t[i]&&(n[i]=t[i]);this.$router.push({query:n,path:this.$route.path}).catch((function(){}))}},watch:{$route:function(){var e=this.getRouteQuery();Object(r[\"f\"])(e,this.filter)&&(this.filter=e)}}}},ffcf:function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"page vertical-align verify-email \"},[n(\"h2\",[e._v(\"Thank you for using Lionnix\")]),n(\"p\",[e._v(\"A verification mail has been sent to your email account. Please check\\n    your inbox to verify.\")]),n(\"p\",[e._v(\"Still can't find the email?\")]),n(\"p-button\",{staticClass:\"btn btn-special btn-primary mt-20 mb-20\",attrs:{loading:e.isLoading,disabled:e.counting},on:{click:e.handleResendEmail}},[e.counting?n(\"span\",[e._v(\"Resend Email again \"+e._s(e.count)+\" \")]):e._e(),e.counting?e._e():n(\"span\",[e._v(\"Resend verification Email\")])]),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"p\",{staticClass:\"tip\"},[e._v(\"\\n    Tip: If you have not received the email, please check your\\n    \"),n(\"br\"),n(\"b\",[e._v(\"Spam\")]),e._v(\" or \"),n(\"b\",[e._v(\"Trash folder\")])])}],a=n(\"a34a\"),o=n.n(a),s=n(\"2f62\"),u=n(\"3f86\"),c=n(\"8ad0\");function l(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,s,\"next\",e)}function s(e){l(a,r,i,o,s,\"throw\",e)}o(void 0)}))}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b={name:\"VerifyEmail\",mixins:[u[\"a\"]],filters:{},computed:p(p({},Object(s[\"d\"])(\"auth\",{currentUser:function(e){return e.user}})),{},{code:function(){return this.$route.params.code}}),data:function(){return{isLoading:!1,result:{},counting:!1,count:\"2m\"}},created:function(){this.init()},methods:p(p({},Object(s[\"b\"])(\"auth\",[\"verifyEmail\",\"resendEmail\"])),{},{init:function(){var e=f(o.a.mark((function e(){var t,n,r,i,a,s;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=(new Date).getTime(),c[\"a\"].get(\"expried\")<t||null==c[\"a\"].get(\"expried\")?(n=(new Date).getTime()+6e3,c[\"a\"].set(\"expried\",n),this.countDownTimer()):(this.count=c[\"a\"].get(\"count\"),this.counting=c[\"a\"].get(\"counting\"),this.countDownTimer()),r=new URL(window.location.href),i=r.searchParams.get(\"code\"),a={code:i},!i){e.next=17;break}return e.next=8,this.verifyEmail(a);case 8:if(s=e.sent,!s.success){e.next=15;break}if(!s.permission){e.next=12;break}return e.abrupt(\"return\",this.$router.push(\"/\"));case 12:return e.abrupt(\"return\",this.$toast.open({type:\"error\",message:\"You are not allowed to do this action !\"}));case 15:return this.$toast.open({type:\"error\",message:s.message}),e.abrupt(\"return\",this.$router.push(\"/sign-in\"));case 17:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleResendEmail:function(){var e=f(o.a.mark((function e(){var t,n,r,i,a=this;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log(c[\"a\"].get(\"userEmail\")),c[\"a\"].get(\"userEmail\")){e.next=3;break}return e.abrupt(\"return\");case 3:return this.isLoading=!0,t={email:c[\"a\"].get(\"userEmail\")},e.next=7,this.resendEmail(t);case 7:if(n=e.sent,!n.success){e.next=15;break}return this.$toast.open({type:\"success\",message:\"Successfully! Please check your email to activate the account.\"}),setTimeout((function(){a.isLoading=!1}),2e3),this.counting=!0,r=(new Date).getTime(),c[\"a\"].get(\"expried\")<r||null==c[\"a\"].get(\"expried\")?(i=(new Date).getTime()+6e3,c[\"a\"].set(\"expried\",i),this.countDownTimer()):this.countDownTimer(),e.abrupt(\"return\");case 15:this.$toast.open({type:\"error\",message:n.message});case 16:case\"end\":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),countDownTimer:function(){var e=c[\"a\"].get(\"expried\"),t=setInterval(function(){var n=(new Date).getTime(),r=e-n,i=Math.floor(r%36e5/6e4),a=Math.floor(r%6e4/1e3);this.count=i+\"m \"+a+\"s \",r<0&&(this.counting=!1,clearInterval(t))}.bind(this),1e3);c[\"a\"].set(\"count\",this.count),c[\"a\"].set(\"counting\",this.counting)}}),watch:{filter:{handler:function(){this.init()},deep:!0}}},d=b,g=n(\"2877\"),y=Object(g[\"a\"])(d,r,i,!1,null,null,null);t[\"default\"]=y.exports}}]);","extractedComments":[]}