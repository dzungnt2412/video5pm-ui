{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"container\"],{\"1e12\":function(t,e,n){\"use strict\";var i=n(\"49a8\"),r=n.n(i);r.a},\"3f86\":function(t,e,n){\"use strict\";var i=n(\"45ba\"),r=n(\"54d7\");function s(t){return s=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},s(t)}e[\"a\"]={data:function(){return{filter:{}}},methods:{toBack:function(){return this.$router.go(-1)},getRouteQuery:function(){var t=this,e={};Object.keys(this.filter).forEach((function(n){if(\"undefined\"!==typeof t.$route.query[n]){var i=t.$route.query[n];switch(s(t.filter[n])){case\"number\":i=Number(i);break;case\"boolean\":i=!!i;break}e[n]=i}else e[n]=t.filter[n]}));var n=r[\"d\"];return e.limit=e.limit<=n?e.limit:n,Object.assign({},this.$route.query,e)},handleUpdateRouteQuery:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(i[\"d\"])(this.$route.query);e=Object.assign(e,this.filter,t),e.page||(e.page=1);var n={};for(var r in e)e.hasOwnProperty(r)&&e[r]&&(n[r]=e[r]);this.$router.push({query:n,path:this.$route.path}).catch((function(){}))}},watch:{$route:function(){var t=this.getRouteQuery();Object(i[\"f\"])(t,this.filter)&&(this.filter=t)}}}},\"49a8\":function(t,e,n){},\"61c4\":function(t,e,n){\"use strict\";var i=n(\"72f1\"),r=n.n(i);r.a},\"68ee\":function(t,e,n){!function(e,n){t.exports=n()}(\"undefined\"!=typeof self&&self,(function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=11)}([function(t,e){t.exports=function(t,e,n,i,r,s){var a,o=t=t||{},c=typeof t.default;\"object\"!==c&&\"function\"!==c||(a=t,o=t.default);var u,d=\"function\"==typeof o?o.options:o;if(e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),r&&(d._scopeId=r),s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||\"undefined\"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},d._ssrRegister=u):i&&(u=i),u){var l=d.functional,h=l?d.render:d.beforeCreate;l?(d._injectStyles=u,d.render=function(t,e){return u.call(e),h(t,e)}):d.beforeCreate=h?[].concat(h,u):[u]}return{esModule:a,exports:o,options:d}}},function(t,e,n){\"use strict\";var i=n(2),r=n(12),s=n(0),a=s(i.a,r.a,!1,null,null,null);e.a=a.exports},function(t,e,n){\"use strict\";var i=function(t){return/^#([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})$/.test(t)};e.a={name:\"VueContentLoading\",props:{rtl:{default:!1,type:Boolean},speed:{default:2,type:Number},width:{default:400,type:Number},height:{default:130,type:Number},primary:{type:String,default:\"#f0f0f0\",validator:i},secondary:{type:String,default:\"#e0e0e0\",validator:i}},computed:{viewbox:function(){return\"0 0 \"+this.width+\" \"+this.height},formatedSpeed:function(){return this.speed+\"s\"},gradientId:function(){return\"gradient-\"+this._uid},clipPathId:function(){return\"clipPath-\"+this._uid},svg:function(){if(this.rtl)return{transform:\"rotateY(180deg)\"}},rect:function(){return{style:{fill:\"url(#\"+this.gradientId+\")\"},clipPath:\"url(#\"+this.clipPathId+\")\"}}}}},function(t,e,n){\"use strict\";var i=n(1);e.a={components:{VueContentLoading:i.a}}},function(t,e,n){\"use strict\";var i=n(1);e.a={components:{VueContentLoading:i.a}}},function(t,e,n){\"use strict\";var i=n(1);e.a={components:{VueContentLoading:i.a}}},function(t,e,n){\"use strict\";var i=n(1);e.a={components:{VueContentLoading:i.a}}},function(t,e,n){\"use strict\";var i=n(1);e.a={components:{VueContentLoading:i.a}}},function(t,e,n){\"use strict\";var i=n(1);e.a={components:{VueContentLoading:i.a},props:{rows:{default:5,type:Number}},computed:{height:function(){return 21*this.rows}},methods:{getYPos:function(t,e){return e+22*(t-1)}}}},function(t,e,n){\"use strict\";var i=n(1);e.a={components:{VueContentLoading:i.a},props:{header:{default:!0,type:Boolean},rows:{default:5,type:Number},columns:{default:4,type:Number}},computed:{height:function(){return 30*this.rows-20},width:function(){return 20*(this.columns-1)+10+100*this.columns}},methods:{getXPos:function(t){return 5+100*(t-1)+20*(t-1)},getYPos:function(t){return 30*(t-1)}}}},,function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var i=n(1),r=n(13),s=n(15),a=n(17),o=n(19),c=n(21),u=n(23),d=n(25);n.d(e,\"VclCode\",(function(){return r.a})),n.d(e,\"VclList\",(function(){return s.a})),n.d(e,\"VclTwitch\",(function(){return a.a})),n.d(e,\"VclFacebook\",(function(){return o.a})),n.d(e,\"VclInstagram\",(function(){return c.a})),n.d(e,\"VclBulletList\",(function(){return u.a})),n.d(e,\"VclTable\",(function(){return d.a})),n.d(e,\"VueContentLoading\",(function(){return i.a})),e.default=i.a},function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"svg\",{style:t.svg,attrs:{viewBox:t.viewbox,preserveAspectRatio:\"xMidYMid meet\"}},[n(\"rect\",{style:t.rect.style,attrs:{\"clip-path\":t.rect.clipPath,x:\"0\",y:\"0\",width:t.width,height:t.height}}),t._v(\" \"),n(\"defs\",[n(\"clipPath\",{attrs:{id:t.clipPathId}},[t._t(\"default\",[n(\"rect\",{attrs:{x:\"0\",y:\"0\",rx:\"5\",ry:\"5\",width:\"70\",height:\"70\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"80\",y:\"17\",rx:\"4\",ry:\"4\",width:\"300\",height:\"13\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"80\",y:\"40\",rx:\"3\",ry:\"3\",width:\"250\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"80\",rx:\"3\",ry:\"3\",width:\"350\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"100\",rx:\"3\",ry:\"3\",width:\"400\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"120\",rx:\"3\",ry:\"3\",width:\"360\",height:\"10\"}})])],2),t._v(\" \"),n(\"linearGradient\",{attrs:{id:t.gradientId}},[n(\"stop\",{attrs:{offset:\"0%\",\"stop-color\":t.primary}},[n(\"animate\",{attrs:{attributeName:\"offset\",values:\"-2; 1\",dur:t.formatedSpeed,repeatCount:\"indefinite\"}})]),t._v(\" \"),n(\"stop\",{attrs:{offset:\"50%\",\"stop-color\":t.secondary}},[n(\"animate\",{attrs:{attributeName:\"offset\",values:\"-1.5; 1.5\",dur:t.formatedSpeed,repeatCount:\"indefinite\"}})]),t._v(\" \"),n(\"stop\",{attrs:{offset:\"100%\",\"stop-color\":t.primary}},[n(\"animate\",{attrs:{attributeName:\"offset\",values:\"-1; 2\",dur:t.formatedSpeed,repeatCount:\"indefinite\"}})])],1)],1)])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){\"use strict\";var i=n(3),r=n(14),s=n(0),a=s(i.a,r.a,!1,null,null,null);e.a=a.exports},function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"vue-content-loading\",t._b({attrs:{width:300,height:80}},\"vue-content-loading\",t.$attrs,!1),[n(\"rect\",{attrs:{x:\"0\",y:\"0\",rx:\"3\",ry:\"3\",width:\"70\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"80\",y:\"0\",rx:\"3\",ry:\"3\",width:\"100\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"190\",y:\"0\",rx:\"3\",ry:\"3\",width:\"10\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"15\",y:\"20\",rx:\"3\",ry:\"3\",width:\"130\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"155\",y:\"20\",rx:\"3\",ry:\"3\",width:\"130\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"15\",y:\"40\",rx:\"3\",ry:\"3\",width:\"90\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"115\",y:\"40\",rx:\"3\",ry:\"3\",width:\"60\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"185\",y:\"40\",rx:\"3\",ry:\"3\",width:\"60\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"60\",rx:\"3\",ry:\"3\",width:\"30\",height:\"10\"}})])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){\"use strict\";var i=n(4),r=n(16),s=n(0),a=s(i.a,r.a,!1,null,null,null);e.a=a.exports},function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"vue-content-loading\",t._b({attrs:{width:300,height:120}},\"vue-content-loading\",t.$attrs,!1),[n(\"rect\",{attrs:{x:\"0\",y:\"0\",rx:\"3\",ry:\"3\",width:\"250\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"20\",y:\"20\",rx:\"3\",ry:\"3\",width:\"220\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"20\",y:\"40\",rx:\"3\",ry:\"3\",width:\"170\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"60\",rx:\"3\",ry:\"3\",width:\"250\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"20\",y:\"80\",rx:\"3\",ry:\"3\",width:\"200\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"20\",y:\"100\",rx:\"3\",ry:\"3\",width:\"80\",height:\"10\"}})])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){\"use strict\";var i=n(5),r=n(18),s=n(0),a=s(i.a,r.a,!1,null,null,null);e.a=a.exports},function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"vue-content-loading\",t._b({attrs:{width:300,height:225}},\"vue-content-loading\",t.$attrs,!1),[n(\"rect\",{attrs:{x:\"0\",y:\"0\",rx:\"3\",ry:\"3\",width:\"300\",height:\"170\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"180\",rx:\"2\",ry:\"2\",width:\"35\",height:\"45\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"45\",y:\"180\",rx:\"2\",ry:\"2\",width:\"150\",height:\"15\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"45\",y:\"203\",rx:\"2\",ry:\"2\",width:\"100\",height:\"10\"}})])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){\"use strict\";var i=n(6),r=n(20),s=n(0),a=s(i.a,r.a,!1,null,null,null);e.a=a.exports},function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"vue-content-loading\",t._b({},\"vue-content-loading\",t.$attrs,!1),[n(\"rect\",{attrs:{x:\"0\",y:\"0\",rx:\"5\",ry:\"5\",width:\"70\",height:\"70\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"80\",y:\"17\",rx:\"4\",ry:\"4\",width:\"300\",height:\"13\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"80\",y:\"40\",rx:\"3\",ry:\"3\",width:\"250\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"80\",rx:\"3\",ry:\"3\",width:\"350\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"100\",rx:\"3\",ry:\"3\",width:\"400\",height:\"10\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"120\",rx:\"3\",ry:\"3\",width:\"360\",height:\"10\"}})])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){\"use strict\";var i=n(7),r=n(22),s=n(0),a=s(i.a,r.a,!1,null,null,null);e.a=a.exports},function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"vue-content-loading\",t._b({attrs:{height:480}},\"vue-content-loading\",t.$attrs,!1),[n(\"circle\",{attrs:{cx:\"30\",cy:\"30\",r:\"30\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"75\",y:\"13\",rx:\"4\",ry:\"4\",width:\"100\",height:\"13\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"75\",y:\"37\",rx:\"4\",ry:\"4\",width:\"50\",height:\"8\"}}),t._v(\" \"),n(\"rect\",{attrs:{x:\"0\",y:\"70\",rx:\"5\",ry:\"5\",width:\"400\",height:\"400\"}})])},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){\"use strict\";var i=n(8),r=n(24),s=n(0),a=s(i.a,r.a,!1,null,null,null);e.a=a.exports},function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"vue-content-loading\",t._b({attrs:{width:230,height:t.height}},\"vue-content-loading\",t.$attrs,!1),[t._l(t.rows,(function(e){return[n(\"circle\",{key:e+\"_c\",attrs:{cx:\"8\",cy:t.getYPos(e,8),r:\"8\"}}),t._v(\" \"),n(\"rect\",{key:e+\"_r\",attrs:{x:\"22\",y:t.getYPos(e,3),rx:\"3\",ry:\"3\",width:\"200\",height:\"9\"}})]}))],2)},r=[],s={render:i,staticRenderFns:r};e.a=s},function(t,e,n){\"use strict\";var i=n(9),r=n(26),s=n(0),a=s(i.a,r.a,!1,null,null,null);e.a=a.exports},function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"vue-content-loading\",t._b({attrs:{width:t.width,height:t.height}},\"vue-content-loading\",t.$attrs,!1),[t._l(t.rows,(function(e){return[t._l(t.columns,(function(i){return[n(\"rect\",{key:e+\"_\"+i,attrs:{x:t.getXPos(i),y:t.getYPos(e),rx:\"3\",ry:\"3\",width:100,height:\"10\"}})]})),t._v(\" \"),e<t.rows?n(\"rect\",{key:e+\"_l\",attrs:{x:\"0\",y:t.getYPos(e)+20,width:t.width,height:\"1\"}}):t._e()]}))],2)},r=[],s={render:i,staticRenderFns:r};e.a=s}])}))},\"72f1\":function(t,e,n){},\"808f\":function(t,e,n){\"use strict\";var i=n(\"45ba\");e[\"a\"]={computed:{totalSelected:function(){return this.action&&this.action.selected?this.action.selected.length:0},paginationLabel:function(){var t=this.filter.page?this.filter.page:0,e=(t-1)*this.filter.limit||1,n=Math.ceil(this.count/this.filter.limit);if(n<this.filter.page||!e)return\"\";var i=this.count>=this.filter.limit?t*this.filter.limit:this.count;return i>this.count&&(i=this.count),i>e?\"Hiển thị \".concat(e,\"-\").concat(i,\" trong tổng \").concat(this.count,\" kết quả\"):\"\"},selectedIds:function(){return this.action&&this.action.selected&&this.action.selected.length?this.action.selected.map((function(t){var e=t.id;return e})):[]},items:function(){return[]},isAllChecked:function(){return this.action.selected&&this.items.length===this.action.selected.length&&this.totalSelected>0},isIndeterminate:function(){return!!this.action.selected&&(this.action.selected.length>0&&this.action.selected.length<this.items.length)},selectionCountText:function(){return\"\".concat(this.totalSelected,\" đơn hàng đã được chọn\")}},data:function(){return{filter:{page:1,limit:20,search:\"\"},action:{current:\"\",selected:[],visibleConfirm:!1},actions:{}}},methods:{onMultipleSelect:function(t){this.$set(this.action,\"selected\",t)},handleActionItem:function(){},handleAction:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.action.current=t,this.action.item=n,this.actions&&this.actions[t]&&this.actions[t].isNeedConfirm?this.$dialog.confirm({title:\"Are you sure you want to do this?\",onConfirm:function(){return e.handleActionItem()}}):this.handleActionItem()},handleSearch:function(t){this.filter.page=1,this.$set(this.filter,\"search\",t.target.value)},clearSearch:function(){this.$set(this.filter,\"search\",\"\")},onActionConfirm:function(){this.handleActionItem()},toggleSelectAll:function(){var t=[];t=this.isAllChecked?[]:Object(i[\"d\"])(this.items),this.$set(this.action,\"selected\",t)}},watch:{$route:function(){this.action.selected&&this.$set(this.action,\"selected\",[])}}}},c334:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return i})),n.d(e,\"a\",(function(){return r}));var i=[\"pending\",\"unpaid\",\"paid\",\"process\",\"fulfilled\",\"rejected\",\"canceled\"],r=[\"draft\",\"pending\",\"unpaid\",\"paid\",\"process\",\"fulfilled\",\"canceled\"]},db1a:function(t,e,n){\"use strict\";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"p-tabs nav-tabs-horizontal mb-4\"},[n(\"ul\",{staticClass:\"nav nav-tabs nav-tabs-line\",attrs:{role:\"tablist\"}},t._l(t.cleanStatus,(function(e,i){return n(\"li\",{key:i,staticClass:\"nav-item\",attrs:{role:\"presentation\"}},[n(\"a\",{staticClass:\"nav-link\",class:{active:e.value===t.value},attrs:{href:\"#\"},on:{click:function(n){return n.preventDefault(),t.handleClick(e.value)}}},[t._v(\"\\n        \"+t._s(e.text)+\"\\n      \")])])})),0)])},r=[],s=n(\"f88f\"),a={name:\"StatusTab\",props:{status:{type:Array,default:function(){return[]}},value:{type:String,default:\"\"},hasAll:{type:Boolean,default:!0}},computed:{cleanStatus:function(){var t=this.hasAll?[{value:\"\",text:\"All\"}]:[];return this.status.forEach((function(e){t.push({value:e,text:Object(s[\"a\"])(e)})})),t}},methods:{handleClick:function(t){this.value!==t&&(this.$emit(\"input\",t),this.$emit(\"click\",t))}}},o=a,c=n(\"2877\"),u=Object(c[\"a\"])(o,i,r,!1,null,null,null);e[\"a\"]=u.exports},e5ab:function(t,e,n){\"use strict\";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isFetching?n(\"PageDetailLoading\"):n(\"div\",{staticClass:\"order-view-page page\"},[n(\"UnsavedBar\",{attrs:{show:t.isVisibleUpdateOrder,title:\"Cập nhập đơn hàng\"},on:{save:function(e){return t.handleUpdateOrders(!1)}}}),n(\"div\",{staticClass:\"page-header\"},[n(\"div\",{staticClass:\"container-fluid\"},[n(\"div\",{staticClass:\"row\"},[n(\"div\",{staticClass:\"col-12\"},[n(\"p-button\",{staticClass:\"btn-pure pl-0\",attrs:{icon:\"chevron-left\"}},[n(\"router-link\",{attrs:{to:{name:\"container-list\"}}},[t._v(\"\\n              Delivery order\\n            \")])],1)],1)])])]),n(\"div\",{staticClass:\"page-content\"},[n(\"div\",{staticClass:\"container-fluid\"},[n(\"div\",{staticClass:\"row\"},[n(\"div\",{staticClass:\"col-12\"},[n(\"div\",{staticClass:\"d-flex align-items-center justify-content-between flex-wrap\"},[n(\"div\",{staticClass:\"order-metadata d-flex align-items-center\"},[n(\"h4\",{staticClass:\"order-number\"},[t._v(t._s(t.container.id))]),n(\"span\",{staticClass:\"order-date ml-10 mr-10\"},[t._v(\"\\n                \"+t._s(t._f(\"datetime\")(t.container.created_at))+\"\\n              \")]),n(\"span\",{directives:[{name:\"status\",rawName:\"v-status:status\",value:t.container.status,expression:\"container.status\",arg:\"status\"}],staticClass:\"ml-10\"})]),n(\"div\",{staticClass:\"order-metadata d-flex align-items-center\"},[t.isAllowUpdateCancel?n(\"p-button\",{staticClass:\"ml-10\",attrs:{type:\"danger\",disabled:t.isContainerUpdating},on:{click:function(e){return t.confirmUpdateContainer(\"canceled\")}}},[t._v(\"\\n                Cancel\\n              \")]):t._e()],1)]),n(\"div\",{staticClass:\"row mt-15\"},[n(\"div\",{staticClass:\"col-12\",class:{\"col-md-8\":t.isVisibleStatisticSection}},[n(\"section\",{staticClass:\"card section-order-items\"},[n(\"div\",{staticClass:\"card-block\"},[[n(\"div\",[n(\"status-tab\",{attrs:{status:t.orderStatus},model:{value:t.filter.status,callback:function(e){t.$set(t.filter,\"status\",e)},expression:\"filter.status\"}}),n(\"p-input\",{staticClass:\"mb-20\",attrs:{placeholder:\"Tìm kiếm theo mã đơn hàng\",prefixIcon:\"search\",type:\"search\",value:t.filter.search},on:{keyup:function(e){return!e.type.indexOf(\"key\")&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.handleSearch(e)}}},[n(\"template\",{slot:\"append\"},[t.filter.search?n(\"p-button\",{attrs:{type:\"default\",icon:\"close\"},on:{click:t.clearSearch}}):t._e()],1)],2)],1)],t.isOrdersFetching?n(\"VclTable\",{staticClass:\"my-20\"}):t._e(),[t._l(t.orders,(function(e,i){return n(\"div\",{key:i,staticClass:\"mb-30\"},[n(\"div\",{staticClass:\"d-flex align-items-center justify-content-between\"},[n(\"div\",{staticClass:\"d-flex align-items-center\"},[n(\"div\",{staticClass:\"d-flex align-items-center flex-wrap\"},[n(\"span\",{staticClass:\"font-size-16 mr-10\"},[t._v(t._s(e.id))]),n(\"router-link\",{staticClass:\" font-size-16 mr-10 text-no-underline\",attrs:{target:\"_blank\",to:{name:\"order-view\",params:{id:e.id}}}},[t._v(\"\\n                              | \"+t._s(e.ref_id)+\"\\n                            \")]),n(\"span\",{staticClass:\"font-size-16 mr-10\"},[t._v(t._s(t.getOrderTitle(e)))]),n(\"span\",{directives:[{name:\"status\",rawName:\"v-status:status\",value:e.status,expression:\"order.status\",arg:\"status\"}],staticClass:\"mr-10\"},[t._v(\"\\n                              \"+t._s(e.status)+\"\\n                            \")])],1)]),n(\"div\",{staticClass:\"actions mr-20\"},[n(\"p-tooltip\",{attrs:{label:\"Sửa đơn hàng\",position:\"top\",type:\"dark\"}},[t.isAllowUpdateOrder(e)?n(\"p-button\",{attrs:{size:\"xs\",type:\"default\",icon:\"pencil\"},on:{click:function(n){return t.handleFetchOrder(e.id)}}}):t._e()],1)],1)]),n(\"order-items\",{attrs:{display:\"container\",order:e,\"order-id\":e.id,items:e.order_items,designs:t.designs,\"shop-id\":t.shopId,\"fetch-designs\":t.fetchDesigns,\"is-allow-update\":t.isAllowUpdateOrder(e)},on:{selectedDesign:t.handleSelectedDesign}})],1)})),n(\"div\",{staticClass:\"d-flex justify-content-between align-items-center\"},[n(\"span\",[t._v(\"\\n                        \"+t._s(t.paginationLabel)+\"\\n                      \")]),n(\"p-pagination\",{attrs:{total:t.count,perPage:t.filter.limit,current:t.filter.page,size:\"sm\"},on:{\"update:current\":function(e){return t.$set(t.filter,\"page\",e)}}})],1)]],2)])]),t.isVisibleStatisticSection?n(\"div\",{staticClass:\"col-12 col-md-4\"},[n(\"section\",{staticClass:\"card section-order-items\"},[n(\"div\",{staticClass:\"card-block\"},[n(\"div\",{staticClass:\"card-title d-flex justify-content-between\"},[n(\"h4\",[t._v(\"Thống kê sản phẩm\")])]),n(\"div\",{staticClass:\"table-responsive\"},[n(\"table\",{staticClass:\"table table-hover\"},[n(\"thead\",[n(\"tr\",[n(\"th\",[t._v(\"Tên\")]),n(\"th\",[t._v(\"SL\")]),n(\"th\",[t._v(\"Đơn giá\")]),n(\"th\",{staticClass:\"text-right\"},[t._v(\"Thành tiền\")])])]),n(\"tbody\",t._l(t.statisticsProductBases,(function(e,i){return n(\"tr\",{key:i},[n(\"td\",[t._v(t._s(e.name))]),n(\"td\",[t._v(t._s(e.qty))]),n(\"td\",[t._v(t._s(t._f(\"formatPrice\")(e.price)))]),n(\"td\",{staticClass:\"text-right\"},[t._v(\"\\n                            \"+t._s(t._f(\"formatPrice\")(e.price*e.qty))+\"\\n                          \")])])})),0),n(\"tfoot\",[n(\"tr\",[n(\"td\",{attrs:{colspan:\"3\"}},[t._v(\"Tổng tiền sản phẩm\")]),n(\"td\",{staticClass:\"text-right\"},[n(\"strong\",[t._v(t._s(t._f(\"formatPrice\")(t.statisticTotalAmount)))])])]),n(\"tr\",[n(\"td\",{attrs:{colspan:\"3\"}},[t._v(\"Tổng tiền vận chuyển\")]),n(\"td\",{staticClass:\"text-right\"},[n(\"strong\",[t._v(\"\\n                              \"+t._s(t._f(\"formatPrice\")(t.container.total_shipping_fee))+\"\\n                            \")])])]),n(\"tr\",[n(\"td\",{attrs:{colspan:\"3\"}},[t._v(\"Tổng tất cả\")]),n(\"td\",{staticClass:\"text-right\"},[n(\"strong\",[t._v(\"\\n                              \"+t._s(t._f(\"formatPrice\")(t.statisticTotalAmount+t.container.total_shipping_fee))+\"\\n                            \")])])])])])])])])]):t._e()])])])])]),t.isVisibleUpdateOrdersWrong?n(\"modal-update-orders-wrong\",{attrs:{visible:t.isVisibleUpdateOrdersWrong,orders:t.wrongOrders,loading:t.isOrderUpdating},on:{\"update:visible\":function(e){t.isVisibleUpdateOrdersWrong=e},tryAgain:function(e){return t.handleUpdateOrders(!0)}}}):t._e(),t.isVisibleEditOrder?n(\"modal-update-order\",{attrs:{visible:t.isVisibleEditOrder,current:t.order,countries:t.countries,loading:t.isOrderUpdating},on:{\"update:visible\":function(e){t.isVisibleEditOrder=e},save:t.handleUpdateOrder}}):t._e()],1)},r=[],s=n(\"a34a\"),a=n.n(s),o=n(\"2f62\"),c=n(\"68ee\"),u=n(\"45ba\"),d=n(\"54d7\"),l=n(\"3f86\"),h=n(\"808f\"),f=n(\"d065\"),p=n(\"5f56\"),g=n(\"5281\"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"accordion\"},[t._t(\"default\")],2)},m=[],y={name:\"Accordion\",props:{initialOpenItem:{required:!1,type:[Number,String],default:null},initialOpenItems:{required:!1,type:Array,default:null,validator:function(t){return Array.isArray(t)&&!t.some((function(t){return\"number\"!==typeof t}))}},caretAnimation:{required:!1,type:Object,default:function(){return{duration:\"450ms\",timerFunc:\"ease\"}},validator:function(t){var e=\"string\"===typeof t.duration&&\"string\"===typeof t.timerFunc||!0===t.none;return e}},dropdown:{required:!1,type:Boolean,default:!1},icon:{required:!1,type:String,default:\"caret\",validator:function(t){var e=\"caret\"===t||\"plus-minus\"===t||\"custom\"===t;return e}},slide:{required:!1,type:Object,default:function(){return{duration:\"700ms\",timerFunc:\"ease\"}},validator:function(t){var e=\"string\"===typeof t.duration&&\"string\"===typeof t.timerFunc;return e}},expand:{type:Boolean,default:!1}},mounted:function(){var t=this;this.$on(\"child-registered\",(function(e){var n=t.getNextId();e.setUniqueId(n),t.children_toggle_status[n]=!1})),this.$on(\"child-clicked\",this.handleChildClicked),this.$on(\"child-removed\",(function(e){delete t.children_toggle_status[e]})),this.$nextTick((function(){t.openInitialItems(t.$children.length)}))},data:function(){return{next_id:1,children_toggle_status:{}}},methods:{getNextId:function(){var t=this.next_id.toString(10);return this.next_id+=1,t},handleChildClicked:function(t){if(!this.dropdown)for(var e in this.children_toggle_status)this.children_toggle_status[e]&&e!==t&&(this.$emit(\"toggle-child\",e),this.children_toggle_status[e]=!1);this.children_toggle_status[t]=!this.children_toggle_status[t]},openInitialItems:function(t){var e=this,n=this.initialOpenItem,i=this.initialOpenItems;null!==n?this.openInitialItem(n,t):null!==i&&i.forEach((function(n){e.openInitialItem(n,t)}))},openInitialItem:function(t,e){var n=\"number\"===typeof t?t:parseInt(t,10);if(!(n>0&&n<=e))throw new Error(\"There are only \".concat(e,\" AccordionItems, \").concat(n,\" is out of bounds. [indexing from 1]\"));this.handleChildClicked(String(n))},handleToggleAll:function(t){var e=this;Object.keys(this.children_toggle_status).forEach((function(n){var i=e.children_toggle_status[n];e.children_toggle_status[n]=t,i!==t&&e.$emit(\"toggle-child\",n)}))}},watch:{expand:function(t){this.handleToggleAll(t)}}},_=y,b=n(\"2877\"),x=Object(b[\"a\"])(_,v,m,!1,null,null,null),O=x.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{class:t.card_classes},[n(\"div\",{staticClass:\"card-header\",on:{click:t.notifyOfClick}},[n(\"div\",{staticClass:\"card-header-title\"},[t._t(\"title\")],2),n(\"p\",{staticClass:\"card-header-icon\"},[t.usingCustomIcon?n(\"span\",{staticClass:\"icon\"},[t._t(\"icon\"),t.isOpen?t._t(\"icon-open\"):t._t(\"icon-closed\")],2):n(\"span\",{staticClass:\"icon\"},[t.showCaret?n(\"svg\",{class:t.dropdownIconClasses,style:t.iconStyle,attrs:{version:\"1.1\",viewBox:\"0 0 129 129\",\"enable-background\":\"new 0 0 129 129\"}},[n(\"g\",[n(\"path\",{attrs:{d:\"m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51,51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6,1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8,1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z\"}})])]):t._e(),t.showPlus||t.showMinus?n(\"PlusMinus\",{attrs:{minus:t.showMinus}}):t._e()],1)])]),n(\"div\",{ref:\"body\",staticClass:\"accordion-body\",style:t.slideStyle},[n(\"div\",{ref:\"bodyContent\",class:t.card_content_classes},[t._t(\"content\")],2),n(\"div\",{ref:\"bodyFooter\",class:t.footerClasses},[t._t(\"footer\")],2)])])},C=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"plus-minus\"},[n(\"div\",{staticClass:\"horizontal\"}),n(\"div\",{class:t.verticalClasses})])},k=[],I={name:\"AccordionPlusMinus\",props:{minus:{required:!0,type:Boolean}},computed:{verticalClasses:function(){return{vertical:!0,\"vertical-rotated\":this.minus}}}},S=I,P=(n(\"1e12\"),Object(b[\"a\"])(S,$,k,!1,null,\"7859a214\",null)),j=P.exports;function U(t){var e={transition:\"transitionend\",OTransition:\"otransitionend\",MozTransition:\"transitionend\",WebkitTransition:\"webkitTransitionEnd\"};for(var n in e)if(e.hasOwnProperty(n)&&void 0!==t.style[n])return e[n];throw new Error(\"TransitionEnd event is not supported in this browser\")}var T={name:\"AccordionItem\",components:{PlusMinus:j},data:function(){return{isOpen:!1,autoHeightInterval:null,showCardContent:!1,uniqueId:null}},mounted:function(){var t=this;this.$nextTick((function(){t.$parent.$emit(\"child-registered\",t),t.$parent.$on(\"toggle-child\",t.handleToggleRequest);var e=t.$refs.body,n=U(e);e.addEventListener(n,(function(){\"0px\"!==e.style.height?t.autoHeightStart(e):(t.autoHeightStop(),t.showCardContent=!1)}))}))},beforeDestroy:function(){this.$parent.$emit(\"child-removed\",this.uniqueId)},watch:{isOpen:function(t){t?this.$emit(\"open\"):this.$emit(\"close\"),this.doTheSlide()}},computed:{config:function(){var t=this.$parent,e=t.caretAnimation,n=void 0===e?{duration:\"450ms\",timerFunc:\"ease\"}:e,i=t.dropdown,r=void 0!==i&&i,s=t.icon,a=void 0===s?\"caret\":s,o=t.slide,c=void 0===o?{duration:\"700ms\",timerFunc:\"ease\"}:o;return{animation:n,dropdown:r,icon:a,slide:c}},dropdownIconClasses:function(){return{\"header-icon\":!0,\"caret-down\":!this.isOpen}},card_classes:function(){return{card:!0,\"card-active\":this.isOpen}},card_content_classes:function(){return{\"card-content\":!0,\"is-hidden\":!this.showCardContent}},footerClasses:function(){return{\"card-footer\":!0,\"is-hidden\":!this.$slots.footer}},usingCustomIcon:function(){return\"custom\"===this.config.icon},showCaret:function(){return\"caret\"===this.config.icon},showPlus:function(){return\"plus-minus\"===this.config.icon&&!this.isOpen},showMinus:function(){return\"plus-minus\"===this.config.icon&&this.isOpen},slideStyle:function(){var t=this.config.slide;return{transition:\"all \".concat(t.duration,\" \").concat(t.timerFunc)}},iconStyle:function(){var t=this.config.animation;return!0===t.none?{}:{transition:\"all \".concat(t.duration,\" \").concat(t.timerFunc)}}},methods:{handleToggleRequest:function(t){t===this.uniqueId&&this.toggleCollapsed()},setUniqueId:function(t){this.uniqueId=t},notifyOfClick:function(){this.uniqueId&&this.$parent.$emit(\"child-clicked\",this.uniqueId)},collapse:function(){this.isOpen=!1},toggleCollapsed:function(){this.isOpen=!this.isOpen},doTheSlide:function(){var t=this,e=this.$refs.body;!0===this.isOpen?(this.showCardContent=!0,this.$nextTick().then((function(){t.adjustHeight(e,e.scrollHeight)}))):this.slideUp(e)},adjustHeight:function(t,e){t.style.height=\"\".concat(e,\"px\")},slideUp:function(t){\"auto\"===t.style.height&&(t.style.height=\"\".concat(t.scrollHeight,\"px\")),t.style.height=\"0px\"},autoHeightStart:function(t){var e=this;this.autoHeightInterval&&this.autoHeightStop(),this.autoHeightInterval=setInterval((function(){try{var n=e.$refs.bodyContent.scrollHeight+e.$refs.bodyFooter.scrollHeight+1;\"0px\"!==t.style.height&&n!==t.style.height&&e.isOpen&&e.adjustHeight(t,n)}catch(i){e.autoHeightStop()}}),100)},autoHeightStop:function(){clearInterval(this.autoHeightInterval),this.autoHeightInterval=null}}},A=T,E=(n(\"61c4\"),Object(b[\"a\"])(A,w,C,!1,null,\"49c893e8\",null)),F=E.exports,V=n(\"4abe\"),q=n(\"a7f7\"),R=n(\"f06d\");function B(t,e,n,i,r,s,a){try{var o=t[s](a),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(i,r)}function H(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var s=t.apply(e,n);function a(t){B(s,i,r,a,o,\"next\",t)}function o(t){B(s,i,r,a,o,\"throw\",t)}a(void 0)}))}}function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L={data:function(){return{isContainerUpdating:!1,containerTotalAmount:0,resultUpdateContainer:{},updateContainerStatus:\"\"}},computed:{isAllowUpdateCancel:function(){return this.container.status===d[\"f\"]||this.container.status===d[\"i\"]}},methods:N(N({},Object(o[\"b\"])(\"container\",[f[\"n\"]])),{},{handleUpdateContainer:function(){var t=H(a.a.mark((function t(e){var n;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isContainerUpdating=!0,n=Object.assign({},this.container,e),t.next=4,this.updateContainer(n);case 4:if(this.resultUpdateContainer=t.sent,this.isContainerUpdating=!1,!this.resultUpdateContainer.success){t.next=10;break}return this.handleFetchOrders(),this.$toast.open({type:\"success\",message:\"Cập nhật delivery order thành công\"}),t.abrupt(\"return\",!0);case 10:return this.$toast.open({type:\"error\",message:this.resultUpdateContainer.message}),t.abrupt(\"return\",!1);case 12:case\"end\":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),confirmUpdateContainer:function(t){var e=this;this.$dialog.confirm({message:\"Are you sure you want to do this?\",onConfirm:function(){return e.onUpdateContainerActionConfirm(t)}})},onUpdateContainerActionConfirm:function(){var t=H(a.a.mark((function t(e){var n;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n={},t.t0=e,t.next=\"canceled\"===t.t0?4:\"process\"===t.t0?6:7;break;case 4:return n.status=d[\"e\"],t.abrupt(\"break\",7);case 6:n.status=d[\"j\"];case 7:this.handleUpdateContainer(n);case 8:case\"end\":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()})},Y=n(\"c334\"),z=n(\"db1a\"),W=n(\"0eeb\"),Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"p-dialog\",{attrs:{active:t.visible,title:\"Một vài đơn hàng bị lỗi.\"},on:{close:t.handleClose}},[n(\"table\",{staticClass:\"table table-hover\"},[n(\"thead\",[n(\"tr\",[n(\"th\",[t._v(\"Tên khách\")]),n(\"th\",[t._v(\"Địa chỉ\")]),n(\"th\",[t._v(\"Quốc gia\")]),n(\"th\",[t._v(\"Ngày\")])])]),n(\"tbody\",[n(\"tr\",[n(\"td\",[t._v(t._s(t.item.first_name)+\" \"+t._s(t.item.last_name))]),n(\"td\",[t._v(t._s(t.item.address))]),n(\"td\",[t._v(t._s(t.item.country_code))]),n(\"td\",[t._v(t._s(t._f(\"datetime\")(t.item.created_at)))])])])]),n(\"template\",{slot:\"footer\"},[n(\"p-button\",{attrs:{type:\"success\",disabled:t.loading},on:{click:t.handleTryAgain}},[t._v(\"\\n      Thử lại\\n    \")])],1)],2)},X=[],J={name:\"ModalUpdateOrdersWrong\",props:{visible:{type:Boolean,default:!1},orders:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},methods:{handleClose:function(){this.$emit(\"update:visible\",!1)},handleTryAgain:function(){this.$emit(\"tryAgain\")}}},G=J,K=Object(b[\"a\"])(G,Q,X,!1,null,null,null),Z=K.exports,tt=n(\"35d2\");function et(t,e,n,i,r,s,a){try{var o=t[s](a),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(i,r)}function nt(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var s=t.apply(e,n);function a(t){et(s,i,r,a,o,\"next\",t)}function o(t){et(s,i,r,a,o,\"throw\",t)}a(void 0)}))}}function it(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){st(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function st(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at={name:\"ContainerView\",mixins:[l[\"a\"],h[\"a\"],L,p[\"a\"]],components:{StatusTab:z[\"a\"],Thumbnail:R[\"a\"],OrderItems:W[\"a\"],Accordion:O,AccordionItem:F,ModalUpdateOrdersWrong:Z,ModalUpdateOrder:tt[\"a\"],Pagination:g[\"a\"],VclTable:c[\"VclTable\"]},computed:rt(rt(rt(rt({},Object(o[\"d\"])(\"container\",{container:function(t){return t.container},currentOrders:function(t){return t.orders},count:function(t){return t.orderCount},order:function(t){return t.order},consignments:function(t){return t.consignments}})),Object(o[\"d\"])(\"shared\",{productTypes:function(t){return t.productTypes},supplierUsers:function(t){return t.users}})),Object(o[\"d\"])(\"design\",{designs:function(t){return t.designs}})),{},{containerId:function(){return parseInt(this.$route.params.id,10)},isVisibleStatisticSection:function(){var t=[\"pending\",\"draft\",\"canceled\"];return this.statisticsProductBases&&this.statisticsProductBases.length&&-1===t.indexOf(this.order.status)},wrongOrders:function(){var t=this;return this.orders.filter((function(e){var n=e.id;return-1!==t.wrongOrderIds.indexOf(n)}))},isVisibleActions:function(){return this.container&&this.container.status!==d[\"e\"]},shopId:function(){return this.container&&this.container.shop?this.container.shop.id:0},user:function(){return this.container.shop&&this.container.shop.user?this.container.shop.user:{}},statisticsProductBases:function(){return this.container&&this.container.product_bases?this.container.product_bases.filter((function(t){return t.id})):[]},orderStatus:function(){return Y[\"b\"]},statisticTotalShippingFees:function(){return this.statisticsProductBases?this.statisticsProductBases.reduce((function(t,e){return t+e.shipping_fee*e.qty}),0):0},statisticTotalAmount:function(){return this.statisticsProductBases?this.statisticsProductBases.reduce((function(t,e){return t+e.price*e.qty}),0):0},items:function(){var t=[];return this.orders.forEach((function(e){e.order_items.forEach((function(n){t.push({id:n.id,order_id:n.order_id,consignment_id:n.consignment_id,name:n.name,image:n.image,sku:n.sku,product_type:n.product_type,price:n.price,quantity:n.quantity,attribute:n.attribute,shipping_method:e.shipping_method,shipping_fee:n.shipping_fee,order_status:n.shipping_fee})}))})),t}}),data:function(){return{isFetching:!0,isOrderFetching:!0,isOrdersFetching:!0,resultFetchOrder:{},isVisibleSelectSupplier:!1,isSupplierAssigning:!1,isExpandOrders:!1,orders:[],isVisibleUpdateOrder:!1,isVisibleUpdateOrdersWrong:!1,isOrderUpdating:!1,wrongOrderIds:[],updateOrderIds:[],isVisibleAppendConsignment:!1,isVisibleUpdateOrderStatus:!1,styleTable:0}},created:function(){this.filter=this.getRouteQuery(),this.init()},methods:rt(rt(rt(rt({},Object(o[\"b\"])(\"container\",[f[\"e\"],f[\"j\"],f[\"i\"],f[\"o\"]])),Object(o[\"b\"])(\"design\",[\"fetchDesigns\"])),Object(o[\"b\"])(\"shared\",[q[\"FETCH_PRODUCT_TYPES\"],q[\"FETCH_USERS_BY_ROLE\"]])),{},{formatPrice:V[\"b\"],init:function(){var t=nt(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.handleFetchContainer(),this.handleFetchOrders()]);case 2:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleFetchContainer:function(){var t=nt(a.a.mark((function t(){var e;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isFetching=!0,t.next=3,this.fetchContainer(this.containerId);case 3:e=t.sent,e.success||this.$toast.open({message:e.message,type:\"error\"}),this.isFetching=!1;case 6:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleFetchOrders:function(){var t=nt(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isExpandOrders=!1,this.isOrdersFetching=!0,this.handleUpdateRouteQuery(),t.next=5,this.fetchOrders(Object.assign({container_id:this.containerId},this.filter));case 5:this.resultFetchOrder=t.sent,this.isExpandOrders=!0,this.isOrdersFetching=!1;case 8:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleFetchOrder:function(){var t=nt(a.a.mark((function t(e){var n;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isOrderFetching=!0,t.next=3,this.fetchOrder(e);case 3:n=t.sent,n.success?this.handleVisibleModalUpdateOrder():this.$toast.open({type:\"error\",message:n.message});case 5:case\"end\":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleSelectedDesign:function(t){var e=t.url,n=t.orderId,i=t.design,r=t.item;this.handleUpdateOrderItem(n,r,{design_id:i.id,design:i,image:e})},handleUpdateOrderItem:function(t,e,n){var i=this.orders.findIndex((function(e){var n=e.id;return n===t}));if(-1!==i){var r=this.orders[i].order_items,s=r.findIndex((function(t){var n=t.id;return n===e.id}));if(-1!==s){var a=Object.assign({},r[s],n);this.$set(this.orders[i].order_items,s,a),this.isVisibleUpdateOrder=!0,this.updateOrderIds.push(t)}}},handleUpdateOrders:function(){var t=nt(a.a.mark((function t(){var e,n,i,r,s,o=this,c=arguments;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=c.length>0&&void 0!==c[0]&&c[0],n=[],this.orders.forEach((function(t){-1===o.updateOrderIds.indexOf(t.id)||e&&-1===o.wrongOrderIds.indexOf(t.id)||n.push(t)})),n.length){t.next=5;break}return t.abrupt(\"return\");case 5:return i=[],n.forEach((function(t){i.push(o.updateOrder(t))})),this.isOrderUpdating=!0,t.next=10,Promise.all(i);case 10:if(r=t.sent,this.isOrderUpdating=!1,!r||!Array.isArray(r)){t.next=27;break}if(s=r.filter((function(t){var e=t.success;return!1===e})).map((function(t){var e=t.id;return e})),0!==s.length){t.next=25;break}return this.updateOrderIds=[],this.wrongOrderIds=[],this.isVisibleUpdateOrdersWrong=!1,this.isVisibleUpdateOrder=!1,t.next=21,this.handleFetchOrders();case 21:return t.next=23,this.handleFetchContainer();case 23:return this.$toast.open({type:\"success\",message:\"Cập nhập order thành công\"}),t.abrupt(\"return\");case 25:this.isVisibleUpdateOrdersWrong=!0,this.wrongOrderIds=s;case 27:case\"end\":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleUpdateOrder:function(){var t=nt(a.a.mark((function t(e){var n;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(u[\"d\"])(e),delete n.order_items,this.isOrderUpdating=!0,t.next=5,this.updateOrder(n);case 5:if(this.resultUpdate=t.sent,!this.resultUpdate||!this.resultUpdate.success){t.next=13;break}return this.isOrderUpdating=!1,this.isVisibleEditOrder=!1,t.next=11,this.handleFetchContainer();case 11:return this.$toast.open({type:\"success\",message:\"Cập nhập order item thành công\"}),t.abrupt(\"return\");case 13:this.$toast.open({type:\"error\",message:this.resultUpdate.message}),this.isOrderUpdating=!1;case 15:case\"end\":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getOrderTitle:function(t){var e=\"| \".concat(t.country_code,\" | \").concat(t.shipping_method);if(t.fulfillments.length){var n=t.fulfillments.map((function(t){return t.tracking_number}));e+=\" | \".concat(n.toString())}return e},toggleOpen:function(t){this.isExpandOrders=\"expand\"===t}}),watch:{currentOrders:{handler:function(t){t&&(this.orders=Object(u[\"d\"])(t))},immediate:!0},filter:{handler:function(){this.handleFetchOrders()},immediate:!0,deep:!0}}},ot=at,ct=Object(b[\"a\"])(ot,i,r,!1,null,null,null);e[\"default\"]=ct.exports}}]);","extractedComments":[]}