{"remainingRequest":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tiendzung/workspace/video5pm/video5pm-ui/src/packages/ticket/views/View.vue?vue&type=template&id=d02282ba&","dependencies":[{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/src/packages/ticket/views/View.vue","mtime":1604479001989},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1604479001773},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js","mtime":1604479001773}],"contextDependencies":[],"result":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-12\"},[_c('div',{staticClass:\"px-10 mb-2 panel ticket-toolbar\"},[_c('a',{staticClass:\"mr-30\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.toBack()}}},[_c('p-tooltip',{attrs:{\"position\":\"bottom\",\"trigger\":\"hover\",\"label\":\"Quay lại\"}},[_c('span',{staticClass:\"badge badge-default badge-outline\"},[_c('i',{staticClass:\"icon md-arrow-left\"})])])],1),(_vm.ticket.status != 'closed')?_c('a',{staticClass:\"ml-30 mr-20\",attrs:{\"href\":\"#form-reply-ticket\"}},[_c('p-tooltip',{attrs:{\"position\":\"bottom\",\"trigger\":\"hover\",\"label\":\"Trả lời\"}},[_c('span',{staticClass:\"badge badge-default badge-outline\"},[_c('i',{staticClass:\"icon md-mail-reply\"})])])],1):_vm._e(),_c('a',{staticClass:\"mr-10 float-right\",attrs:{\"href\":\"#ticket-bottom\"}},[_c('p-tooltip',{attrs:{\"position\":\"bottom-left\",\"trigger\":\"hover\",\"label\":\"Cuộn xuống\"}},[_c('span',{staticClass:\"badge badge-default badge-outline\"},[_c('i',{staticClass:\"icon md-long-arrow-down\"})])])],1)])]),_c('div',{staticClass:\"col-xl-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-block\"},[_c('div',{staticClass:\"card-title\"},[_c('h3',{staticClass:\"m0\"},[_vm._v(\"\\n              \"+_vm._s(_vm.ticket.subject)+\"\\n            \")]),(_vm.ticket.status == 'closed')?_c('p',{staticClass:\"mt-2 mb-0 text-danger\"},[_vm._v(\"Ticket đã được đóng, nếu sự cố của bạn chưa được giải quết, bạn\\n              có thể click \"),_c('a',{attrs:{\"href\":\"#ticket-bottom\"}},[_vm._v(\"vào đây\")]),_vm._v(\" để mở lại\\n              ticket.\")]):_vm._e()]),_c('div',{staticClass:\"card-text\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-7\"},[_c('p',{staticClass:\"mb-5\"},[_c('span',[_vm._v(\"Ticket ID: \"+_vm._s(_vm.ticket.id))]),_c('time',{staticClass:\"ml-35\"},[_vm._v(\"\\n                    Tạo ngày:\\n                    \"+_vm._s(_vm._f(\"datetime\")(_vm.ticket.created_at,'dd/MM/yyyy HH:mm'))+\" (\"+_vm._s(_vm._f(\"timeAgo\")(_vm.ticket.created_at))+\"\\n                    trước)\\n                  \")])]),(_vm.ticket.object_id)?_c('p',{staticClass:\"mb-5\"},[_vm._v(\"\\n                  Mã đơn hàng:\\n                  \"),_c('router-link',{staticClass:\"hightlight\",attrs:{\"slot\":\"reference\",\"target\":\"_blank\",\"to\":{\n                      name: 'order-view',\n                      params: { id: _vm.ticket.object_id },\n                    }},slot:\"reference\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.ticket.ref_id)+\"\\n                  \")])],1):_vm._e()]),_c('div',{staticClass:\"col-sm-5\"},[_c('p',{staticClass:\"mb-5\"},[_vm._v(\"Trạng thái:\\n                  \"),_c('span',{directives:[{name:\"status\",rawName:\"v-status:status\",value:(_vm.ticket.status),expression:\"ticket.status\",arg:\"status\"}]},[_vm._v(\"\\n                    \"+_vm._s(_vm.ticket.status)+\"\\n                  \")])]),(_vm.ticket.category)?_c('p',{staticClass:\"mb-5\"},[_vm._v(\"Danh mục: \"+_vm._s(_vm.ticket.category))]):_vm._e()])]),_c('hr'),_c('p',{staticClass:\"text-pre-line\"},[_vm._v(_vm._s(_vm.ticket.content))]),(_vm.attach_files && _vm.attach_files.length)?_c('div',{staticClass:\"gallery ticket-attach-files\"},[_c('hr'),_c('div',{staticClass:\"row\"},_vm._l((_vm.attach_files),function(file,i){return _c('div',{key:i,staticClass:\"col\"},[(_vm.isImage(file.url))?_c('div',{staticClass:\"gallery-item\",on:{\"click\":function($event){return _vm.zoomImage(file.blob)}}},[_c('img',{staticClass:\"img-fluid w-full\",attrs:{\"src\":file.blob}})]):_c('div',{staticClass:\"gallery-item ticket-file\"},[_c('a',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.getTicketFile(file, true)}}},[_c('span',[_vm._v(_vm._s(_vm.extenionFileUrl(file)))]),_c('span',{staticClass:\"icon md-download\"})])])])}),0)]):_vm._e()])])]),_vm._l((_vm.messages),function(item,index){return _c('div',{key:index,staticClass:\"card mb-5 ticket-message\",class:{ me: item.user_id == _vm.auth.id }},[_c('div',{staticClass:\"card-block\"},[_c('div',{staticClass:\"card-title\"},[_c('h4',{staticClass:\"m0 d-ib\"},[_vm._v(\"\\n              \"+_vm._s(item.full_name || 'Undefined')+\"\\n              \"),(item.is_staff == 'Y')?_c('span',{staticClass:\"badge badge-info text-top\"},[_vm._v(\"Lionnix Staff\")]):_vm._e()]),_c('span',{staticClass:\"float-right\"},[_vm._v(\"\\n              \"+_vm._s(_vm._f(\"datetime\")(item.created_at,'dd/MM/yyyy HH:mm'))+\"\\n            \")])]),_c('div',{staticClass:\"card-text\"},[_c('p',{staticClass:\"text-pre-line\"},[_vm._v(_vm._s(item.message))]),(item.attach_files && item.attach_files.length)?_c('div',{staticClass:\"gallery ticket-attach-files\"},[_c('hr'),_c('div',{staticClass:\"row\"},_vm._l((item.attach_files),function(file,i){return _c('div',{key:i,staticClass:\"col\"},[(_vm.isImage(file.url))?_c('div',{staticClass:\"gallery-item\",on:{\"click\":function($event){return _vm.zoomImage(file.blob)}}},[_c('img',{staticClass:\"img-fluid w-full\",attrs:{\"src\":file.blob}})]):_c('div',{staticClass:\"gallery-item ticket-file\"},[_c('a',{staticClass:\"btn\",on:{\"click\":function($event){return _vm.getTicketFile(file, true)}}},[_c('span',[_vm._v(_vm._s(_vm.extenionFileUrl(file)))]),_c('span',{staticClass:\"icon md-download\"})])])])}),0)]):_vm._e()])])])}),_c('div',{staticClass:\"card\",attrs:{\"id\":\"ticket-bottom\"}},[_c('div',{staticClass:\"card-block\"},[(_vm.isHideReply)?[_c('div',{staticClass:\"form-group floating\",class:[\n                { 'has-success': !_vm.errors.has('message') },\n                { 'has-danger': _vm.errors.has('message') } ],attrs:{\"id\":\"form-reply-ticket\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.message),expression:\"form.message\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"placeholder\":\"Nội dung\",\"name\":\"message\",\"data-vv-as\":\"Nội dung\"},domProps:{\"value\":(_vm.form.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"message\", $event.target.value)}}}),(_vm.errors.has('message'))?_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(_vm.errors.first('message')))]):_vm._e()]),_c('div',{staticClass:\"form-group floating\",class:[\n                { 'has-success': !_vm.errors.has('file') },\n                { 'has-danger': _vm.errors.has('file') } ]},[(_vm.files && _vm.files.length)?_c('ul',{staticClass:\"list-group list-group-full ticket-attach-list\"},_vm._l((_vm.files),function(item,i){return _c('li',{key:i,staticClass:\"list-group-item\"},[_c('span',{staticClass:\"float-right\",on:{\"click\":function($event){$event.preventDefault();return _vm.showDeleteConfirmation(item.uid)}}},[_c('i',{staticClass:\"icon md-close\"})]),_vm._v(\"\\n                  \"+_vm._s(item.name)+\"\\n                \")])}),0):_vm._e(),_c('upload',{staticClass:\"ticket-uploader\",attrs:{\"action\":_vm.uploadFileEndpoint,\"accept\":'.png,.jpg,.csv,.xlsx,.xls',\"drag\":\"\",\"multiple\":\"\",\"list-type\":\"picture\",\"data\":{ type: 'tickets' },\"headers\":_vm.uploadHeaders,\"on-error\":_vm.handleErrorFile,\"on-success\":_vm.handleSuccess,\"max-file-size\":4000000}},[_c('div',{staticClass:\"el-upload__text\"},[_c('p-icon',{attrs:{\"name\":\"image\",\"icon-pack\":\"md\"}}),_vm._v(\"\\n                  Tải file đính kèm\\n                \")],1)]),_c('p',[_vm._v(\"File đính kèm chỉ nhận định dạng PNG, JPEG, CSV, Excel và\\n                không được vượt quá 5MB\")])],1),_c('p-button',{attrs:{\"type\":\"primary\",\"disable\":_vm.isMessageSending},on:{\"click\":_vm.handlerPushMessage}},[_c('span',[_vm._v(\"Trả lời\")])])]:[(this.isClosed)?_c('p',{staticClass:\"text-danger\"},[_vm._v(\"Ticket đã được đóng, nếu sự cố của bạn chưa được giải quết, bạn\\n              có thể bấm button dưới để mở lại ticket.\")]):_vm._e(),_c('p-button',{attrs:{\"id\":\"btn-reopen\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.isHideReply = true}}},[_c('span',[_vm._v(\"Mở lại ticket\")])])]],2)])],2)]),_c('modal-image',{attrs:{\"visible\":_vm.isZoomImage,\"src\":_vm.imageZoomImage},on:{\"update:visible\":function($event){_vm.isZoomImage=$event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"]}