{"remainingRequest":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tiendzung/workspace/video5pm/video5pm-ui/uikit/components/dialog/Dialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/uikit/components/dialog/Dialog.vue","mtime":1604479001997},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js","mtime":1604479000077},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js","mtime":1604479001773}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PInput from '../input/Input'\nimport PIcon from '../icon/Icon'\nimport PModal from '../modal/Modal'\nimport config from '../../config'\nimport { removeElement } from '../../utils/dom'\n\nexport default {\n  name: 'BDialog',\n  components: {\n    PIcon,\n    PInput,\n  },\n  extends: PModal,\n  props: {\n    title: String,\n    message: String,\n    icon: String,\n    iconPack: String,\n    hasIcon: Boolean,\n    type: {\n      type: String,\n      default: 'primary',\n    },\n    confirmText: {\n      type: String,\n      default: () => {\n        return config.defaultDialogConfirmText\n          ? config.defaultDialogConfirmText\n          : 'OK'\n      },\n    },\n    cancelText: {\n      type: String,\n      default: () => {\n        return config.defaultDialogCancelText\n          ? config.defaultDialogCancelText\n          : 'Cancel'\n      },\n    },\n    hasInput: Boolean, // Used internally to know if it's prompt\n    inputAttrs: {\n      type: Object,\n      default: () => ({}),\n    },\n    onConfirm: {\n      type: Function,\n      default: () => {},\n    },\n    focusOn: {\n      type: String,\n      default: 'confirm',\n    },\n  },\n  data() {\n    const prompt = this.hasInput ? this.inputAttrs.value || '' : ''\n\n    return {\n      prompt,\n      isActive: false,\n      validationMessage: '',\n    }\n  },\n  computed: {\n    /**\n     * Icon name (WB) based on the type.\n     */\n    iconByType() {\n      switch (this.type) {\n        case 'info':\n          return 'info-circle'\n        case 'success':\n          return 'check-circle'\n        case 'warning':\n          return 'alert'\n        case 'danger':\n          return 'alert-circle'\n        default:\n          return null\n      }\n    },\n    showCancel() {\n      return this.cancelOptions.indexOf('button') >= 0\n    },\n  },\n  methods: {\n    /**\n     * If it's a prompt Dialog, validate the input.\n     * Call the onConfirm prop (function) and close the Dialog.\n     */\n    confirm() {\n      if (this.$refs.input !== undefined) {\n        if (!this.$refs.input.checkValidity()) {\n          this.validationMessage = this.$refs.input.validationMessage\n          this.$nextTick(() => this.$refs.input.select())\n          return\n        }\n      }\n\n      this.onConfirm(this.prompt)\n      this.close()\n    },\n\n    /**\n     * Close the Dialog.\n     */\n    close() {\n      this.isActive = false\n      // Timeout for the animation complete before destroying\n      setTimeout(() => {\n        this.$destroy()\n        removeElement(this.$el)\n      }, 150)\n    },\n  },\n  beforeMount() {\n    // Insert the Dialog component in body tag\n    this.$nextTick(() => {\n      document.body.appendChild(this.$el)\n    })\n  },\n  mounted() {\n    this.isActive = true\n\n    if (typeof this.inputAttrs.required === 'undefined') {\n      this.$set(this.inputAttrs, 'required', true)\n    }\n\n    this.$nextTick(() => {\n      // Handle which element receives focus\n      if (this.hasInput) {\n        this.$refs.input.focus()\n      } else if (this.focusOn === 'cancel' && this.showCancel) {\n        this.$refs.cancelButton.focus()\n      } else {\n        this.$refs.confirmButton.focus()\n      }\n    })\n  },\n}\n",null]}