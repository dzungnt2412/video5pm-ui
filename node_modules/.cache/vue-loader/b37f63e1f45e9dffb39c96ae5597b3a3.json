{"remainingRequest":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tiendzung/workspace/video5pm/video5pm-ui/src/packages/shop/views/Select.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/src/packages/shop/views/Select.vue","mtime":1604479001989},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js","mtime":1604479000077},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js","mtime":1604479001773}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapActions, mapState } from 'vuex'\nimport { FETCH_SHOPS, SELECT_SHOP } from '@/packages/shop/store'\n\nexport default {\n  name: 'SelectShop',\n  computed: {\n    ...mapState('shop', {\n      shops: (state) => state.shops,\n    }),\n  },\n  data() {\n    return {\n      isAdding: false,\n    }\n  },\n  mounted() {\n    this.handleFetchShops()\n  },\n  methods: {\n    ...mapActions('shop', [FETCH_SHOPS, SELECT_SHOP]),\n\n    async handleFetchShops() {\n      const result = await this.fetchShops()\n\n      if (!result.success) {\n        this.$toast.open({ type: 'error', message: result.message || '' })\n        return\n      }\n\n      if (this.shops.length === 0) {\n        this.$router.push({ name: 'shop-add' })\n      }\n    },\n\n    /**\n     * Handle select shop\n     * @param shop\n     * @return {Promise<void>}\n     */\n    async handleSelectShop(shop) {\n      const result = await this.selectShop({ fetch: false, id: shop.id })\n\n      if (result.success) {\n        this.$router.push('/')\n      } else {\n        this.$toast.open({ type: 'error', message: result.message || '' })\n      }\n    },\n  },\n}\n",{"version":3,"sources":["Select.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Select.vue","sourceRoot":"src/packages/shop/views","sourcesContent":["<template>\n  <div class=\"page vertical-align text-center\">\n    <div class=\"page-content vertical-align-middle\">\n      <div class=\"panel\">\n        <div class=\"panel-body\">\n          <div class=\"brand\">\n            <h2 class=\"brand-text font-size-18\">\n              Chọn shop\n            </h2>\n          </div>\n\n          <div class=\"list-group text-left\" v-if=\"shops && shops.length\">\n            <a\n              class=\"list-group-item list-group-item-action\"\n              @click.prevent=\"handleSelectShop(shop)\"\n              v-for=\"shop in shops\"\n              :key=\"shop.id\"\n            >\n              {{ shop.name }}\n            </a>\n          </div>\n          <router-link\n            :to=\"{ name: 'shop-add' }\"\n            class=\"btn btn-primary btn-block mt-4\"\n          >\n            Thêm shop mới\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport { FETCH_SHOPS, SELECT_SHOP } from '@/packages/shop/store'\n\nexport default {\n  name: 'SelectShop',\n  computed: {\n    ...mapState('shop', {\n      shops: (state) => state.shops,\n    }),\n  },\n  data() {\n    return {\n      isAdding: false,\n    }\n  },\n  mounted() {\n    this.handleFetchShops()\n  },\n  methods: {\n    ...mapActions('shop', [FETCH_SHOPS, SELECT_SHOP]),\n\n    async handleFetchShops() {\n      const result = await this.fetchShops()\n\n      if (!result.success) {\n        this.$toast.open({ type: 'error', message: result.message || '' })\n        return\n      }\n\n      if (this.shops.length === 0) {\n        this.$router.push({ name: 'shop-add' })\n      }\n    },\n\n    /**\n     * Handle select shop\n     * @param shop\n     * @return {Promise<void>}\n     */\n    async handleSelectShop(shop) {\n      const result = await this.selectShop({ fetch: false, id: shop.id })\n\n      if (result.success) {\n        this.$router.push('/')\n      } else {\n        this.$toast.open({ type: 'error', message: result.message || '' })\n      }\n    },\n  },\n}\n</script>\n"]}]}