{"remainingRequest":"/home/tiendzung/workspace/lionnix/lionnix-seller-v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tiendzung/workspace/lionnix/lionnix-seller-v2/src/packages/ticket/views/View.vue?vue&type=template&id=d20af1c0&","dependencies":[{"path":"/home/tiendzung/workspace/lionnix/lionnix-seller-v2/src/packages/ticket/views/View.vue","mtime":1603898990384},{"path":"/home/tiendzung/workspace/lionnix/lionnix-seller-v2/node_modules/cache-loader/dist/cjs.js","mtime":1601450297498},{"path":"/home/tiendzung/workspace/lionnix/lionnix-seller-v2/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":1597736282333},{"path":"/home/tiendzung/workspace/lionnix/lionnix-seller-v2/node_modules/cache-loader/dist/cjs.js","mtime":1601450297498},{"path":"/home/tiendzung/workspace/lionnix/lionnix-seller-v2/node_modules/vue-loader/lib/index.js","mtime":1597736282333}],"contextDependencies":[],"result":["\n<div>\n  <div class=\"row\">\n    <div class=\"col-xl-12\">\n      <div class=\"px-10 mb-2 panel ticket-toolbar\">\n        <a href=\"#\" class=\"mr-30\" @click=\"toBack()\">\n          <p-tooltip position=\"bottom\" trigger=\"hover\" label=\"Quay lại\">\n            <span class=\"badge badge-default badge-outline\">\n              <i class=\"icon md-arrow-left\"></i>\n            </span>\n          </p-tooltip>\n        </a>\n        <a\n          href=\"#form-reply-ticket\"\n          class=\"ml-30 mr-20\"\n          v-if=\"ticket.status != 'closed'\"\n        >\n          <p-tooltip position=\"bottom\" trigger=\"hover\" label=\"Trả lời\">\n            <span class=\"badge badge-default badge-outline\">\n              <i class=\"icon md-mail-reply\"></i>\n            </span>\n          </p-tooltip>\n        </a>\n        <a href=\"#ticket-bottom\" class=\"mr-10 float-right\">\n          <p-tooltip\n            position=\"bottom-left\"\n            trigger=\"hover\"\n            label=\"Cuộn xuống\"\n          >\n            <span class=\"badge badge-default badge-outline\">\n              <i class=\"icon md-long-arrow-down\"></i>\n            </span>\n          </p-tooltip>\n        </a>\n      </div>\n    </div>\n    <div class=\"col-xl-12\">\n      <div class=\"card\">\n        <div class=\"card-block\">\n          <div class=\"card-title\">\n            <h3 class=\"m0\">\n              {{ ticket.subject }}\n            </h3>\n            <p v-if=\"ticket.status == 'closed'\" class=\"mt-2 mb-0 text-danger\"\n              >Ticket đã được đóng, nếu sự cố của bạn chưa được giải quết, bạn\n              có thể click <a href=\"#ticket-bottom\">vào đây</a> để mở lại\n              ticket.</p\n            >\n          </div>\n          <div class=\"card-text\">\n            <div class=\"row\">\n              <div class=\"col-sm-7\">\n                <p class=\"mb-5\">\n                  <span>Ticket ID: {{ ticket.id }}</span>\n                  <time class=\"ml-35\">\n                    Tạo ngày:\n                    {{ ticket.created_at | datetime('dd/MM/yyyy HH:mm') }} ({{\n                      ticket.created_at | timeAgo\n                    }}\n                    trước)\n                  </time>\n                </p>\n                <p class=\"mb-5\" v-if=\"ticket.object_id\">\n                  Mã đơn hàng:\n                  <router-link\n                    class=\"hightlight\"\n                    target=\"_blank\"\n                    slot=\"reference\"\n                    :to=\"{\n                      name: 'order-view',\n                      params: { id: ticket.object_id },\n                    }\"\n                  >\n                    {{ ticket.ref_id }}\n                  </router-link>\n                </p>\n              </div>\n              <div class=\"col-sm-5\">\n                <p class=\"mb-5\"\n                  >Trạng thái:\n                  <span v-status:status=\"ticket.status\">\n                    {{ ticket.status }}\n                  </span>\n                </p>\n                <p class=\"mb-5\" v-if=\"ticket.category\"\n                  >Danh mục: {{ ticket.category }}</p\n                >\n              </div>\n            </div>\n            <hr />\n            <p class=\"text-pre-line\">{{ ticket.content }}</p>\n            <div\n              class=\"gallery ticket-attach-files\"\n              v-if=\"attach_files && attach_files.length\"\n            >\n              <hr />\n              <div class=\"row\">\n                <div class=\"col\" v-for=\"(file, i) in attach_files\" :key=\"i\">\n                  <div\n                    v-if=\"isImage(file.url)\"\n                    class=\"gallery-item\"\n                    @click=\"zoomImage(file.blob)\"\n                  >\n                    <img class=\"img-fluid w-full\" :src=\"file.blob\" />\n                  </div>\n                  <div v-else class=\"gallery-item ticket-file\">\n                    <a @click=\"getTicketFile(file, true)\" class=\"btn\">\n                      <span>{{ extenionFileUrl(file) }}</span>\n                      <span class=\"icon md-download\"></span>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"card mb-5 ticket-message\"\n        v-for=\"(item, index) in messages\"\n        :key=\"index\"\n        :class=\"{ me: item.user_id == auth.id }\"\n      >\n        <div class=\"card-block\">\n          <div class=\"card-title\">\n            <h4 class=\"m0 d-ib\">\n              {{ item.full_name || 'Undefined' }}\n              <span\n                v-if=\"item.is_staff == 'Y'\"\n                class=\"badge badge-info text-top\"\n                >Lionnix Staff</span\n              >\n            </h4>\n            <span class=\"float-right\">\n              {{ item.created_at | datetime('dd/MM/yyyy HH:mm') }}\n            </span>\n          </div>\n          <div class=\"card-text\">\n            <p class=\"text-pre-line\">{{ item.message }}</p>\n            <div\n              class=\"gallery ticket-attach-files\"\n              v-if=\"item.attach_files && item.attach_files.length\"\n            >\n              <hr />\n              <div class=\"row\">\n                <div\n                  class=\"col\"\n                  v-for=\"(file, i) in item.attach_files\"\n                  :key=\"i\"\n                >\n                  <div\n                    v-if=\"isImage(file.url)\"\n                    class=\"gallery-item\"\n                    @click=\"zoomImage(file.blob)\"\n                  >\n                    <img class=\"img-fluid w-full\" :src=\"file.blob\" />\n                  </div>\n                  <div v-else class=\"gallery-item ticket-file\">\n                    <a @click=\"getTicketFile(file, true)\" class=\"btn\">\n                      <span>{{ extenionFileUrl(file) }}</span>\n                      <span class=\"icon md-download\"></span>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"card\" id=\"ticket-bottom\">\n        <div class=\"card-block\">\n          <template v-if=\"isHideReply\">\n            <div\n              id=\"form-reply-ticket\"\n              class=\"form-group floating\"\n              :class=\"[\n                { 'has-success': !errors.has('message') },\n                { 'has-danger': errors.has('message') },\n              ]\"\n            >\n              <textarea\n                class=\"form-control\"\n                rows=\"5\"\n                placeholder=\"Nội dung\"\n                v-model=\"form.message\"\n                v-validate=\"'required'\"\n                name=\"message\"\n                data-vv-as=\"Nội dung\"\n              ></textarea>\n              <span class=\"invalid-feedback\" v-if=\"errors.has('message')\">{{\n                errors.first('message')\n              }}</span>\n            </div>\n\n            <div\n              class=\"form-group floating\"\n              :class=\"[\n                { 'has-success': !errors.has('file') },\n                { 'has-danger': errors.has('file') },\n              ]\"\n            >\n              <ul\n                class=\"list-group list-group-full ticket-attach-list\"\n                v-if=\"files && files.length\"\n              >\n                <li\n                  class=\"list-group-item\"\n                  v-for=\"(item, i) in files\"\n                  :key=\"i\"\n                >\n                  <span\n                    class=\"float-right\"\n                    @click.prevent=\"showDeleteConfirmation(item.uid)\"\n                  >\n                    <i class=\"icon md-close\"></i>\n                  </span>\n                  {{ item.name }}\n                </li>\n              </ul>\n              <upload\n                class=\"ticket-uploader\"\n                :action=\"uploadFileEndpoint\"\n                :accept=\"'.png,.jpg,.csv,.xlsx,.xls'\"\n                drag\n                multiple\n                list-type=\"picture\"\n                :data=\"{ type: 'tickets' }\"\n                :headers=\"uploadHeaders\"\n                :on-error=\"handleErrorFile\"\n                :on-success=\"handleSuccess\"\n                :max-file-size=\"4000000\"\n              >\n                <div class=\"el-upload__text\">\n                  <p-icon name=\"image\" icon-pack=\"md\"></p-icon>\n                  Tải file đính kèm\n                </div>\n              </upload>\n              <p\n                >File đính kèm chỉ nhận định dạng PNG, JPEG, CSV, Excel và\n                không được vượt quá 5MB</p\n              >\n            </div>\n            <p-button\n              type=\"primary\"\n              @click=\"handlerPushMessage\"\n              :disable=\"isMessageSending\"\n            >\n              <span>Trả lời</span>\n            </p-button>\n          </template>\n          <template v-else>\n            <p class=\"text-danger\" v-if=\"this.isClosed\"\n              >Ticket đã được đóng, nếu sự cố của bạn chưa được giải quết, bạn\n              có thể bấm button dưới để mở lại ticket.</p\n            >\n            <p-button\n              id=\"btn-reopen\"\n              type=\"primary\"\n              @click=\"isHideReply = true\"\n            >\n              <span>Mở lại ticket</span>\n            </p-button>\n          </template>\n        </div>\n      </div>\n    </div>\n  </div>\n  <modal-image :visible.sync=\"isZoomImage\" :src=\"imageZoomImage\" />\n</div>\n",null]}