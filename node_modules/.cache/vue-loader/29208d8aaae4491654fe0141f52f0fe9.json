{"remainingRequest":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/tiendzung/workspace/video5pm/video5pm-ui/src/packages/design/views/List.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/src/packages/design/views/List.vue","mtime":1604479001989},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/babel-loader/lib/index.js","mtime":1604479000077},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/cache-loader/dist/cjs.js","mtime":1604479000133},{"path":"/home/tiendzung/workspace/video5pm/video5pm-ui/node_modules/vue-loader/lib/index.js","mtime":1604479001773}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport EmptySearchResult from '@components/shared/EmptySearchResult'\nimport { mapActions, mapState } from 'vuex'\nimport { VclTable } from 'vue-content-loading'\nimport debounce from 'lodash/debounce'\nimport mixinRoute from '@core/mixins/route'\nimport mixinTable from '@core/mixins/table'\nimport mixinCreateDesign from '../mixins/create-design'\nimport { FETCH_DESIGNS } from '../store'\nimport ModalCreateDesign from './components/ModalCreateDesign'\n\nexport default {\n  name: 'DesignList',\n  mixins: [mixinRoute, mixinTable, mixinCreateDesign],\n  components: {\n    VclTable,\n    ModalCreateDesign,\n    EmptySearchResult,\n  },\n  computed: {\n    ...mapState('design', {\n      designs: (state) => state.designs,\n      count: (state) => state.count,\n    }),\n    designItems() {\n      return this.designs && this.filter.search\n        ? this.designs.filter(\n            ({ sku }) =>\n              sku.toLowerCase().indexOf(this.filter.search.toLowerCase()) !== -1\n          )\n        : this.designs\n    },\n    designIcon() {\n      return './img/folder.png'\n    },\n  },\n  data() {\n    return {\n      isFetching: false,\n      result: {},\n      filter: {\n        page: 1,\n        search: '',\n        limit: 50,\n        user_id: 0,\n      },\n      actions: {\n        delete: {\n          title: 'Delete',\n          isNeedConfirm: false,\n        },\n      },\n    }\n  },\n  created() {\n    this.filter = this.getRouteQuery()\n  },\n  methods: {\n    ...mapActions('design', [FETCH_DESIGNS]),\n\n    async init() {\n      this.isFetching = true\n      this.handleUpdateRouteQuery()\n      this.result = await this.fetchDesigns(this.filter)\n      this.isFetching = false\n    },\n\n    handleActionItem() {},\n\n    handleSearch: debounce(function(e) {\n      // Default result after search in page 1\n      this.filter.page = 1\n      this.filter.search = e.target.value\n    }, 500),\n  },\n  watch: {\n    filter: {\n      handler: function() {\n        this.init()\n      },\n      deep: true,\n    },\n  },\n}\n",null]}